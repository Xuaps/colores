<!DOCTYPE html>
<html>
<head>
	<title>Impact Game</title>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<style type="text/css">
		html,body {
			background-color: #333;
			color: #fff;
			font-family: helvetica, arial, sans-serif;
			margin: 0;
			padding: 0;
			font-size: 12pt;
		}
		
		#canvas {
			position: absolute;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
		}
	</style>
	<script type="text/javascript" src="cordova.js"></script>
	<script type="text/javascript">
	    function createCanvasView() {
	       	wizCanvas.create("canvas", { src: "game.min.js", width: window.innerWidth, height:3*(window.innerWidth/4) }, onCanvasSuccess, onFail);
	    }
	    
	    var onCanvasSuccess = function() {
	        console.log("Created canvas!");
	        // Show the canvas
	        showCanvasView();
	    }
	    
	    function showCanvasView() {
	        wizCanvas.show("canvas",
	         {}, 
	         function () { console.log("Show canvas success") }, 
	         function () { console.log("Show canvas failure") });
	    }
	    
	    var onFail = function (e) {
	        alert("error = "+e);
	    }
    	
    	function onBodyLoad()
		{		
			document.addEventListener("deviceready", onDeviceReady, false);
		}

		/* When this function is called, Cordova has been initialized and is ready to roll */
		/* If you are supporting your own protocol, the var invokeString will contain any arguments to the app launch.
		see http://iphonedevelopertips.com/cocoa/launching-your-own-application-via-a-custom-url-scheme.html
		for more details -jm */
		function onDeviceReady()
		{
	        if (!window.wizCanvas) {
	            alert("Could not find wizCanvas");
	        }

	        if (!window.wizCanvasMessenger) {
	            alert("Could not find wizCanvasMessenger");
	        }

	        createCanvasView();
	        
	    }
	</script>
    </head>
    <body onload="onBodyLoad()">
    	
    </body>
</html>
