!function(a){"use strict";if(Number.prototype.map=function(a,b,c,d){return c+(d-c)*((this-a)/(b-a))},Number.prototype.limit=function(a,b){return Math.min(b,Math.max(a,this))},Number.prototype.round=function(a){return a=Math.pow(10,a||0),Math.round(this*a)/a},Number.prototype.floor=function(){return Math.floor(this)},Number.prototype.ceil=function(){return Math.ceil(this)},Number.prototype.toInt=function(){return 0|this},Number.prototype.toRad=function(){return this/180*Math.PI},Number.prototype.toDeg=function(){return 180*this/Math.PI},Array.prototype.erase=function(a){for(var b=this.length;b--;)this[b]===a&&this.splice(b,1);return this},Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},Function.prototype.bind=Function.prototype.bind||function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e},a.ig={game:null,debug:null,version:"1.23",global:a,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:a.ImpactPrefix||"",lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(a){return"#"==a.charAt(0)?document.getElementById(a.substr(1)):document.getElementsByTagName(a)},$new:function(a){return document.createElement(a)},copy:function(a){if(!a||"object"!=typeof a||a instanceof HTMLElement||a instanceof ig.Class)return a;if(a instanceof Array){for(var b=[],c=0,d=a.length;d>c;c++)b[c]=ig.copy(a[c]);return b}var b={};for(var c in a)b[c]=ig.copy(a[c]);return b},merge:function(a,b){for(var c in b){var d=b[c];"object"!=typeof d||d instanceof HTMLElement||d instanceof ig.Class||null===d?a[c]=d:(a[c]&&"object"==typeof a[c]||(a[c]=d instanceof Array?[]:{}),ig.merge(a[c],d))}return a},ksort:function(a){if(!a||"object"!=typeof a)return[];var b=[],c=[];for(var d in a)b.push(d);b.sort();for(var d=0;d<b.length;d++)c.push(a[b[d]]);return c},setVendorAttribute:function(a,b,c){var d=b.charAt(0).toUpperCase()+b.substr(1);a[b]=a["ms"+d]=a["moz"+d]=a["webkit"+d]=a["o"+d]=c},getVendorAttribute:function(a,b){var c=b.charAt(0).toUpperCase()+b.substr(1);return a[b]||a["ms"+c]||a["moz"+c]||a["webkit"+c]||a["o"+c]},normalizeVendorAttribute:function(a,b){var c=ig.getVendorAttribute(a,b);!a[b]&&c&&(a[b]=c)},getImagePixels:function(a,b,c,d,e){var f=ig.$new("canvas");f.width=a.width,f.height=a.height;var g=f.getContext("2d");ig.System.SCALE.CRISP(f,g);var h=ig.getVendorAttribute(g,"backingStorePixelRatio")||1;ig.normalizeVendorAttribute(g,"getImageDataHD");var i=a.width/h,j=a.height/h;return f.width=Math.ceil(i),f.height=Math.ceil(j),g.drawImage(a,0,0,i,j),1===h?g.getImageData(b,c,d,e):g.getImageDataHD(b,c,d,e)},module:function(a){if(ig._current)throw"Module '"+ig._current.name+"' defines nothing";if(ig.modules[a]&&ig.modules[a].body)throw"Module '"+a+"' is already defined";return ig._current={name:a,requires:[],loaded:!1,body:null},ig.modules[a]=ig._current,ig._loadQueue.push(ig._current),ig},requires:function(){return ig._current.requires=Array.prototype.slice.call(arguments),ig},defines:function(a){ig._current.body=a,ig._current=null,ig._initDOMReady()},addResource:function(a){ig.resources.push(a)},setNocache:function(a){ig.nocache=a?"?"+Date.now():""},log:function(){},assert:function(){},show:function(){},mark:function(){},_loadScript:function(a,b){ig.modules[a]={name:a,requires:[],loaded:!1,body:null},ig._waitForOnload++;var c=ig.prefix+ig.lib+a.replace(/\./g,"/")+".js"+ig.nocache,d=ig.$new("script");d.type="text/javascript",d.src=c,d.onload=function(){ig._waitForOnload--,ig._execModules()},d.onerror=function(){throw"Failed to load module "+a+" at "+c+" required from "+b},ig.$("head")[0].appendChild(d)},_execModules:function(){for(var a=!1,b=0;b<ig._loadQueue.length;b++){for(var c=ig._loadQueue[b],d=!0,e=0;e<c.requires.length;e++){var f=c.requires[e];ig.modules[f]?ig.modules[f].loaded||(d=!1):(d=!1,ig._loadScript(f,c.name))}d&&c.body&&(ig._loadQueue.splice(b,1),c.loaded=!0,c.body(),a=!0,b--)}if(a)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){for(var g=[],b=0;b<ig._loadQueue.length;b++){for(var h=[],i=ig._loadQueue[b].requires,e=0;e<i.length;e++){var c=ig.modules[i[e]];c&&c.loaded||h.push(i[e])}g.push(ig._loadQueue[b].name+" (requires: "+h.join(", ")+")")}throw"Unresolved (or circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules or a previous syntax error prevents a module from loading:\n"+g.join("\n")}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0,ig._waitForOnload--,ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0),ig.ua.pixelRatio=a.devicePixelRatio||1,ig.ua.viewport={width:a.innerWidth,height:a.innerHeight},ig.ua.screen={width:a.screen.availWidth*ig.ua.pixelRatio,height:a.screen.availHeight*ig.ua.pixelRatio},ig.ua.iPhone=/iPhone/i.test(navigator.userAgent),ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio,ig.ua.iPad=/iPad/i.test(navigator.userAgent),ig.ua.android=/android/i.test(navigator.userAgent),ig.ua.winPhone=/Windows Phone/i.test(navigator.userAgent),ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad,ig.ua.mobile=ig.ua.iOS||ig.ua.android||ig.ua.winPhone||/mobile/i.test(navigator.userAgent),ig.ua.touchDevice="ontouchstart"in a||a.navigator.msMaxTouchPoints},_initDOMReady:function(){return ig.modules["dom.ready"]?void ig._execModules():(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig._waitForOnload++,void("complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",ig._DOMReady,!1),a.addEventListener("load",ig._DOMReady,!1))))}},ig.normalizeVendorAttribute(a,"requestAnimationFrame"),a.requestAnimationFrame){var b=1,c={};a.ig.setAnimation=function(d,e){var f=b++;c[f]=!0;var g=function(){c[f]&&(a.requestAnimationFrame(g,e),d())};return a.requestAnimationFrame(g,e),f},a.ig.clearAnimation=function(a){delete c[a]}}else a.ig.setAnimation=function(b){return a.setInterval(b,1e3/60)},a.ig.clearAnimation=function(b){a.clearInterval(b)};var d=!1,e=/xyz/.test(function(){})?/\bparent\b/:/.*/,f=0;a.ig.Class=function(){};var g=function(a){var b=this.prototype,c={};for(var d in a)"function"==typeof a[d]&&"function"==typeof b[d]&&e.test(a[d])?(c[d]=b[d],b[d]=function(a,b){return function(){var d=this.parent;this.parent=c[a];var e=b.apply(this,arguments);return this.parent=d,e}}(d,a[d])):b[d]=a[d]};a.ig.Class.extend=function(b){function c(){if(!d){if(this.staticInstantiate){var a=this.staticInstantiate.apply(this,arguments);if(a)return a}for(var b in this)"object"==typeof this[b]&&(this[b]=ig.copy(this[b]));this.init&&this.init.apply(this,arguments)}return this}var h=this.prototype;d=!0;var i=new this;d=!1;for(var j in b)i[j]="function"==typeof b[j]&&"function"==typeof h[j]&&e.test(b[j])?function(a,b){return function(){var c=this.parent;this.parent=h[a];var d=b.apply(this,arguments);return this.parent=c,d}}(j,b[j]):b[j];return c.prototype=i,c.prototype.constructor=c,c.extend=a.ig.Class.extend,c.inject=g,c.classId=i.classId=++f,c},a.ImpactMixin&&ig.merge(ig,a.ImpactMixin)}(window),ig.baked=!0,ig.module("impact.image").defines(function(){"use strict";ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(a){return ig.Image.cache[a]||null},init:function(a){this.path=a,this.load()},load:function(a){return this.loaded?void(a&&a(this.path,!0)):(!this.loaded&&ig.ready?(this.loadCallback=a||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),void(ig.Image.cache[this.path]=this))},reload:function(){this.loaded=!1,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width,this.height=this.data.height,this.loaded=!0,1!=ig.system.scale&&this.resize(ig.system.scale),this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0,this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(a){var b=ig.getImagePixels(this.data,0,0,this.width,this.height),c=this.width*a,d=this.height*a,e=ig.$new("canvas");e.width=c,e.height=d;for(var f=e.getContext("2d"),g=f.getImageData(0,0,c,d),h=0;d>h;h++)for(var i=0;c>i;i++){var j=4*(Math.floor(h/a)*this.width+Math.floor(i/a)),k=4*(h*c+i);g.data[k]=b.data[j],g.data[k+1]=b.data[j+1],g.data[k+2]=b.data[j+2],g.data[k+3]=b.data[j+3]}f.putImageData(g,0,0),this.data=e},draw:function(a,b,c,d,e,f){if(this.loaded){var g=ig.system.scale;c=c?c*g:0,d=d?d*g:0,e=(e?e:this.width)*g,f=(f?f:this.height)*g,ig.system.context.drawImage(this.data,c,d,e,f,ig.system.getDrawPos(a),ig.system.getDrawPos(b),e,f),ig.Image.drawCount++}},drawTile:function(a,b,c,d,e,f,g){if(e=e?e:d,!(!this.loaded||d>this.width||e>this.height)){var h=ig.system.scale,i=Math.floor(d*h),j=Math.floor(e*h),k=f?-1:1,l=g?-1:1;(f||g)&&(ig.system.context.save(),ig.system.context.scale(k,l)),ig.system.context.drawImage(this.data,Math.floor(c*d)%this.width*h,Math.floor(c*d/this.width)*e*h,i,j,ig.system.getDrawPos(a)*k-(f?i:0),ig.system.getDrawPos(b)*l-(g?j:0),i,j),(f||g)&&ig.system.context.restore(),ig.Image.drawCount++}}}),ig.Image.drawCount=0,ig.Image.cache={},ig.Image.reloadCache=function(){for(var a in ig.Image.cache)ig.Image.cache[a].reload()}}),ig.baked=!0,ig.module("impact.font").requires("impact.image").defines(function(){"use strict";ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,extImages:[],extBreakpoints:[],extendFont:function(a){for(;a&&a.length;)this.extImages.push(a.shift());this._loadMetrics(this.data)},onload:function(a){this._loadMetrics(this.data),this.parent(a)},widthForString:function(a){if(-1!==a.indexOf("\n")){for(var b=a.split("\n"),c=0,d=0;d<b.length;d++)c=Math.max(c,this._widthForLine(b[d]));return c}return this._widthForLine(a)},_widthForLine:function(a){for(var b=0,c=0;c<a.length;c++)b+=this.widthMap[a.charCodeAt(c)-this.firstChar]+this.letterSpacing;return b},heightForString:function(a){return a.split("\n").length*(this.height+this.lineSpacing)},draw:function(a,b,c,d){if("string"!=typeof a&&(a=a.toString()),-1===a.indexOf("\n")){if(d==ig.Font.ALIGN.RIGHT||d==ig.Font.ALIGN.CENTER){var e=this._widthForLine(a);b-=d==ig.Font.ALIGN.CENTER?e/2:e}1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(var f=0;f<a.length;f++){var g=a.charCodeAt(f);b+=this._drawChar(g-this.firstChar,b,c)}1!==this.alpha&&(ig.system.context.globalAlpha=1),ig.Image.drawCount+=a.length}else for(var h=a.split("\n"),i=this.height+this.lineSpacing,f=0;f<h.length;f++)this.draw(h[f],b,c+f*i,d)},_drawChar:function(a,b,c){if(!this.loaded||0>a||a>=this.indices.length)return 0;for(var d=ig.system.scale,e=this,f=0;f<this.extImages.length;++f)a>=this.extBreakpoints[f]&&(e=this.extImages[f]);var g=this.indices[a]*d,h=0,i=this.widthMap[a]*d,j=(this.height-2)*d;return ig.system.context.drawImage(e.data,g,h,i,j,ig.system.getDrawPos(b),ig.system.getDrawPos(c),i,j),this.widthMap[a]+this.letterSpacing},_loadMetrics:function(a){this.height=a.height-1,this.widthMap=[],this.indices=[];var b=ig.getImagePixels(a,0,a.height-1,a.width,1),c=0,d=0,e=-1;do{if(e>-1){if(a=this.extImages[e].data,this.extBreakpoints.push(c),!a)break;b=ig.getImagePixels(a,0,a.height-1,a.width,1)}for(var f=0;f<a.width;f++){var g=4*f+3;b.data[g]>127?d++:b.data[g]<128&&d&&(this.widthMap.push(d),this.indices.push(f-d),c++,d=0)}e++}while(e<this.extImages.length);this.widthMap.push(d),this.indices.push(f-d)}}),ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}}),ig.baked=!0,ig.module("impact.sound").defines(function(){"use strict";ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){if(!ig.Sound.enabled||!window.Audio)return void(ig.Sound.enabled=!1);for(var a=new Audio,b=0;b<ig.Sound.use.length;b++){var c=ig.Sound.use[b];if(a.canPlayType(c.mime)){this.format=c;break}}this.format||(ig.Sound.enabled=!1)},load:function(a,b,c){var d=ig.prefix+a.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[a]){if(b&&this.clips[a].length<ig.Sound.channels)for(var e=this.clips[a].length;e<ig.Sound.channels;e++){var f=new Audio(d);f.load(),this.clips[a].push(f)}return this.clips[a][0]}var g=new Audio(d);if(c&&(g.addEventListener("canplaythrough",function h(b){g.removeEventListener("canplaythrough",h,!1),c(a,!0,b)},!1),g.addEventListener("error",function(b){c(a,!1,b)},!1)),g.preload="auto",g.load(),this.clips[a]=[g],b)for(var e=1;e<ig.Sound.channels;e++){var f=new Audio(d);f.load(),this.clips[a].push(f)}return g},get:function(a){for(var b,c=this.clips[a],d=0;b=c[d++];)if(b.paused||b.ended)return b.ended&&(b.currentTime=0),b;return c[0].pause(),c[0].currentTime=0,c[0]}}),ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this),Object.defineProperty?(Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})):this.__defineGetter__&&(this.__defineGetter__("volume",this.getVolume.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.getLooping.bind(this)),this.__defineSetter__("loop",this.setLooping.bind(this)))},add:function(a,b){if(ig.Sound.enabled){var c=a instanceof ig.Sound?a.path:a,d=ig.soundManager.load(c,!1);d.loop=this._loop,d.volume=this._volume,d.addEventListener("ended",this._endedCallbackBound,!1),this.tracks.push(d),b&&(this.namedTracks[b]=d),this.currentTrack||(this.currentTrack=d)}},next:function(){this.tracks.length&&(this.stop(),this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length,this.currentTrack=this.tracks[this.currentIndex],this.play())},pause:function(){this.currentTrack&&this.currentTrack.pause()},stop:function(){this.currentTrack&&(this.currentTrack.pause(),this.currentTrack.currentTime=0)},play:function(a){if(a&&this.namedTracks[a]){var b=this.namedTracks[a];b!=this.currentTrack&&(this.stop(),this.currentTrack=b)}else if(!this.currentTrack)return;this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(a){this._loop=a;for(var b in this.tracks)this.tracks[b].loop=a},getVolume:function(){return this._volume},setVolume:function(a){this._volume=a.limit(0,1);for(var b in this.tracks)this.tracks[b].volume=this._volume},fadeOut:function(a){this.currentTrack&&(clearInterval(this._fadeInterval),this.fadeTimer=new ig.Timer(a),this._fadeInterval=setInterval(this._fadeStep.bind(this),50))},_fadeStep:function(){var a=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;.01>=a?(this.stop(),this.currentTrack.volume=this._volume,clearInterval(this._fadeInterval)):this.currentTrack.volume=a},_endedCallback:function(){this._loop?this.play():this.next()}}),ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:!0,init:function(a,b){this.path=a,this.multiChannel=b!==!1,this.load()},load:function(a){return ig.Sound.enabled?void(ig.ready?ig.soundManager.load(this.path,this.multiChannel,a):ig.addResource(this)):void(a&&a(this.path,!0))},play:function(){ig.Sound.enabled&&(this.currentClip=ig.soundManager.get(this.path),this.currentClip.volume=ig.soundManager.volume*this.volume,this.currentClip.play())},stop:function(){this.currentClip&&(this.currentClip.pause(),this.currentClip.currentTime=0)}}),ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},CAF:{ext:"caf",mime:"audio/x-caf"}},ig.Sound.use=[ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3],ig.Sound.channels=4,ig.Sound.enabled=!0}),ig.baked=!0,ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){"use strict";ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(a,b){this.gameClass=a,this.resources=b,this._loadCallbackBound=this._loadCallback.bind(this);for(var c=0;c<this.resources.length;c++)this._unloaded.push(this.resources[c].path)},load:function(){if(ig.system.clear("#000"),!this.resources.length)return void this.end();for(var a=0;a<this.resources.length;a++)this.loadResource(this.resources[a]);this._intervalId=setInterval(this.draw.bind(this),16)},loadResource:function(a){a.load(this._loadCallbackBound)},end:function(){this.done||(this.done=!0,clearInterval(this._intervalId),ig.system.setGame(this.gameClass))},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;var a=ig.system.scale,b=.6*ig.system.width,c=.1*ig.system.height,d=.5*ig.system.width-b/2,e=.5*ig.system.height-c/2;ig.system.context.fillStyle="#000",ig.system.context.fillRect(0,0,480,320),ig.system.context.fillStyle="#fff",ig.system.context.fillRect(d*a,e*a,b*a,c*a),ig.system.context.fillStyle="#000",ig.system.context.fillRect(d*a+a,e*a+a,b*a-a-a,c*a-a-a),ig.system.context.fillStyle="#fff",ig.system.context.fillRect(d*a,e*a,b*a*this._drawStatus,c*a)},_loadCallback:function(a,b){if(!b)throw"Failed to load resource: "+a;this._unloaded.erase(a),this.status=1-this._unloaded.length/this.resources.length,0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})}),ig.baked=!0,ig.module("impact.timer").defines(function(){"use strict";ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(a){this.base=ig.Timer.time,this.last=ig.Timer.time,this.target=a||0},set:function(a){this.target=a||0,this.base=ig.Timer.time,this.pausedAt=0},reset:function(){this.base=ig.Timer.time,this.pausedAt=0},tick:function(){var a=ig.Timer.time-this.last;return this.last=ig.Timer.time,this.pausedAt?0:a},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||(this.pausedAt=ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}}),ig.Timer._last=0,ig.Timer.time=Number.MIN_VALUE,ig.Timer.timeScale=1,ig.Timer.maxStep=.05,ig.Timer.step=function(){var a=Date.now(),b=(a-ig.Timer._last)/1e3;ig.Timer.time+=Math.min(b,ig.Timer.maxStep)*ig.Timer.timeScale,ig.Timer._last=a}}),ig.baked=!0,ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){"use strict";ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(a,b,c,d,e){this.fps=b,this.clock=new ig.Timer,this.canvas=ig.$(a),this.resize(c,d,e),this.context=this.canvas.getContext("2d"),this.getDrawPos=ig.System.drawMode,1!=this.scale&&(ig.System.scaleMode=ig.System.SCALE.CRISP),ig.System.scaleMode(this.canvas,this.context)},resize:function(a,b,c){this.width=a,this.height=b,this.scale=c||this.scale,this.realWidth=this.width*this.scale,this.realHeight=this.height*this.scale,this.canvas.width=this.realWidth,this.canvas.height=this.realHeight},setGame:function(a){this.running?this.newGameClass=a:this.setGameNow(a)},setGameNow:function(a){ig.game=new a,ig.system.setDelegate(ig.game)},setDelegate:function(a){if("function"!=typeof a.run)throw"System.setDelegate: No run() function in object";this.delegate=a,this.startRunLoop()},stopRunLoop:function(){ig.clearAnimation(this.animationId),this.running=!1},startRunLoop:function(){this.stopRunLoop(),this.animationId=ig.setAnimation(this.run.bind(this),this.canvas),this.running=!0},clear:function(a){this.context.fillStyle=a,this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step(),this.tick=this.clock.tick(),this.delegate.run(),ig.input.clearPressed(),this.newGameClass&&(this.setGameNow(this.newGameClass),this.newGameClass=null)},getDrawPos:null}),ig.System.DRAW={AUTHENTIC:function(a){return Math.round(a)*this.scale},SMOOTH:function(a){return Math.round(a*this.scale)},SUBPIXEL:function(a){return a*this.scale}},ig.System.drawMode=ig.System.DRAW.SMOOTH,ig.System.SCALE={CRISP:function(a,b){ig.setVendorAttribute(b,"imageSmoothingEnabled",!1),a.style.imageRendering="-moz-crisp-edges",a.style.imageRendering="-o-crisp-edges",a.style.imageRendering="-webkit-optimize-contrast",a.style.imageRendering="crisp-edges",a.style.msInterpolationMode="nearest-neighbor"},SMOOTH:function(a,b){ig.setVendorAttribute(b,"imageSmoothingEnabled",!0),a.style.imageRendering="",a.style.msInterpolationMode=""}},ig.System.scaleMode=ig.System.SCALE.SMOOTH}),ig.baked=!0,ig.module("impact.input").defines(function(){"use strict";ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190},ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:!1,isUsingKeyboard:!1,isUsingAccelerometer:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(!this.isUsingMouse){this.isUsingMouse=!0;var a=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",a,!1),ig.system.canvas.addEventListener("DOMMouseScroll",a,!1),ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1),ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1),ig.ua.touchDevice&&(ig.system.canvas.addEventListener("touchstart",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1),ig.system.canvas.addEventListener("MSPointerDown",this.keydown.bind(this),!1),ig.system.canvas.addEventListener("MSPointerUp",this.keyup.bind(this),!1),ig.system.canvas.addEventListener("MSPointerMove",this.mousemove.bind(this),!1),ig.system.canvas.style.msTouchAction="none")}},initKeyboard:function(){this.isUsingKeyboard||(this.isUsingKeyboard=!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},initAccelerometer:function(){this.isUsingAccelerometer||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(a){var b=a.wheelDelta?a.wheelDelta:-1*a.detail,c=b>0?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN,d=this.bindings[c];d&&(this.actions[d]=!0,this.presses[d]=!0,this.delayedKeyup[d]=!0,a.stopPropagation(),a.preventDefault())},mousemove:function(a){var b=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,c=ig.system.scale*(b/ig.system.realWidth),d={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(d=ig.system.canvas.getBoundingClientRect());var e=a.touches?a.touches[0]:a;this.mouse.x=(e.clientX-d.left)/c,this.mouse.y=(e.clientY-d.top)/c},contextmenu:function(a){this.bindings[ig.KEY.MOUSE2]&&(a.stopPropagation(),a.preventDefault())},keydown:function(a){var b=a.target.tagName;if("INPUT"!=b&&"TEXTAREA"!=b){var c="keydown"==a.type?a.keyCode:2==a.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1;("touchstart"==a.type||"mousedown"==a.type)&&this.mousemove(a);var d=this.bindings[c];d&&(this.actions[d]=!0,this.locks[d]||(this.presses[d]=!0,this.locks[d]=!0),a.stopPropagation(),a.preventDefault())}},keyup:function(a){var b=a.target.tagName;if("INPUT"!=b&&"TEXTAREA"!=b){var c="keyup"==a.type?a.keyCode:2==a.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1,d=this.bindings[c];d&&(this.delayedKeyup[d]=!0,a.stopPropagation(),a.preventDefault())}},devicemotion:function(a){this.accel=a.accelerationIncludingGravity},bind:function(a,b){0>a?this.initMouse():a>0&&this.initKeyboard(),this.bindings[a]=b},bindTouch:function(a,b){var c=ig.$(a),d=this;c.addEventListener("touchstart",function(a){d.touchStart(a,b)},!1),c.addEventListener("touchend",function(a){d.touchEnd(a,b)},!1),c.addEventListener("MSPointerDown",function(a){d.touchStart(a,b)},!1),c.addEventListener("MSPointerUp",function(a){d.touchEnd(a,b)},!1)},unbind:function(a){var b=this.bindings[a];this.delayedKeyup[b]=!0,this.bindings[a]=null},unbindAll:function(){this.bindings={},this.actions={},this.presses={},this.locks={},this.delayedKeyup={}},state:function(a){return this.actions[a]},pressed:function(a){return this.presses[a]},released:function(a){return!!this.delayedKeyup[a]},clearPressed:function(){for(var a in this.delayedKeyup)this.actions[a]=!1,this.locks[a]=!1;this.delayedKeyup={},this.presses={}},touchStart:function(a,b){return this.actions[b]=!0,this.presses[b]=!0,a.stopPropagation(),a.preventDefault(),!1},touchEnd:function(a,b){return this.delayedKeyup[b]=!0,a.stopPropagation(),a.preventDefault(),!1}})}),ig.baked=!0,ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){"use strict";ig.main=function(a,b,c,d,e,f,g){ig.system=new ig.System(a,c,d,e,f||1),ig.input=new ig.Input,ig.soundManager=new ig.SoundManager,ig.music=new ig.Music,ig.ready=!0;var h=new(g||ig.Loader)(b,ig.resources);h.load()}}),ig.baked=!0,ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){"use strict";ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(a,b,c){this.width=b,this.height=c,this.image=new ig.Image(a)}}),ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:!1,y:!1},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(a,b,c,d){this.sheet=a,this.pivot={x:a.width/2,y:a.height/2},this.timer=new ig.Timer,this.frameTime=b,this.sequence=c,this.stop=!!d,this.tile=this.sequence[0]},rewind:function(){return this.timer.set(),this.loopCount=0,this.frame=0,this.tile=this.sequence[0],this},gotoFrame:function(a){this.timer.set(this.frameTime*-a-1e-4),this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var a=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(a/this.sequence.length),this.frame=this.stop&&this.loopCount>0?this.sequence.length-1:a%this.sequence.length,this.tile=this.sequence[this.frame]},draw:function(a,b){var c=Math.max(this.sheet.width,this.sheet.height);a>ig.system.width||b>ig.system.height||0>a+c||0>b+c||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTile(a,b,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(a+this.pivot.x),ig.system.getDrawPos(b+this.pivot.y)),ig.system.context.rotate(this.angle),this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}})}),ig.baked=!0,ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){"use strict";ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:!1,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:!1,slopeStanding:{min:44..toRad(),max:136..toRad()},init:function(a,b,c){this.id=++ig.Entity._lastId,this.pos.x=this.last.x=a,this.pos.y=this.last.y=b,ig.merge(this,c)},reset:function(a,b,c){var d=this.constructor.prototype;this.pos.x=a,this.pos.y=b,this.last.x=a,this.last.y=b,this.vel.x=d.vel.x,this.vel.y=d.vel.y,this.accel.x=d.accel.x,this.accel.y=d.accel.y,this.health=d.health,this._killed=d._killed,this.standing=d.standing,this.type=d.type,this.checkAgainst=d.checkAgainst,this.collides=d.collides,ig.merge(this,c)},addAnim:function(a,b,c,d){if(!this.animSheet)throw"No animSheet to add the animation "+a+" to.";var e=new ig.Animation(this.animSheet,b,c,d);return this.anims[a]=e,this.currentAnim||(this.currentAnim=e),e},update:function(){this.last.x=this.pos.x,this.last.y=this.pos.y,this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor,this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,this.maxVel.x),this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var a=this.vel.x*ig.system.tick,b=this.vel.y*ig.system.tick,c=ig.game.collisionMap.trace(this.pos.x,this.pos.y,a,b,this.size.x,this.size.y);this.handleMovementTrace(c),this.currentAnim&&this.currentAnim.update()},getNewVelocity:function(a,b,c,d){if(b)return(a+b*ig.system.tick).limit(-d,d);if(c){var e=c*ig.system.tick;return a-e>0?a-e:0>a+e?a+e:0}return a.limit(-d,d)},handleMovementTrace:function(a){if(this.standing=!1,a.collision.y&&(this.bounciness>0&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(this.vel.y>0&&(this.standing=!0),this.vel.y=0)),a.collision.x&&(this.bounciness>0&&Math.abs(this.vel.x)>this.minBounceVelocity?this.vel.x*=-this.bounciness:this.vel.x=0),a.collision.slope){var b=a.collision.slope;if(this.bounciness>0){var c=this.vel.x*b.nx+this.vel.y*b.ny;this.vel.x=(this.vel.x-b.nx*c*2)*this.bounciness,this.vel.y=(this.vel.y-b.ny*c*2)*this.bounciness}else{var d=b.x*b.x+b.y*b.y,e=(this.vel.x*b.x+this.vel.y*b.y)/d;this.vel.x=b.x*e,this.vel.y=b.y*e;var f=Math.atan2(b.x,b.y);f>this.slopeStanding.min&&f<this.slopeStanding.max&&(this.standing=!0)}}this.pos=a.pos},draw:function(){this.currentAnim&&this.currentAnim.draw(this.pos.x-this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)},kill:function(){ig.game.removeEntity(this)},receiveDamage:function(a){this.health-=a,this.health<=0&&this.kill()},touches:function(a){return!(this.pos.x>=a.pos.x+a.size.x||this.pos.x+this.size.x<=a.pos.x||this.pos.y>=a.pos.y+a.size.y||this.pos.y+this.size.y<=a.pos.y)},distanceTo:function(a){var b=this.pos.x+this.size.x/2-(a.pos.x+a.size.x/2),c=this.pos.y+this.size.y/2-(a.pos.y+a.size.y/2);return Math.sqrt(b*b+c*c)},angleTo:function(a){return Math.atan2(a.pos.y+a.size.y/2-(this.pos.y+this.size.y/2),a.pos.x+a.size.x/2-(this.pos.x+this.size.x/2))},check:function(){},collideWith:function(){},ready:function(){},erase:function(){}}),ig.Entity._lastId=0,ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8},ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3},ig.Entity.checkPair=function(a,b){a.checkAgainst&b.type&&a.check(b),b.checkAgainst&a.type&&b.check(a),a.collides&&b.collides&&a.collides+b.collides>ig.Entity.COLLIDES.ACTIVE&&ig.Entity.solveCollision(a,b)},ig.Entity.solveCollision=function(a,b){var c=null;a.collides==ig.Entity.COLLIDES.LITE||b.collides==ig.Entity.COLLIDES.FIXED?c=a:(b.collides==ig.Entity.COLLIDES.LITE||a.collides==ig.Entity.COLLIDES.FIXED)&&(c=b),a.last.x+a.size.x>b.last.x&&a.last.x<b.last.x+b.size.x?(a.last.y<b.last.y?ig.Entity.seperateOnYAxis(a,b,c):ig.Entity.seperateOnYAxis(b,a,c),a.collideWith(b,"y"),b.collideWith(a,"y")):a.last.y+a.size.y>b.last.y&&a.last.y<b.last.y+b.size.y&&(a.last.x<b.last.x?ig.Entity.seperateOnXAxis(a,b,c):ig.Entity.seperateOnXAxis(b,a,c),a.collideWith(b,"x"),b.collideWith(a,"x"))
},ig.Entity.seperateOnXAxis=function(a,b,c){var d=a.pos.x+a.size.x-b.pos.x;if(c){var e=a===c?b:a;c.vel.x=-c.vel.x*c.bounciness+e.vel.x;var f=ig.game.collisionMap.trace(c.pos.x,c.pos.y,c==a?-d:d,0,c.size.x,c.size.y);c.pos.x=f.pos.x}else{var g=(a.vel.x-b.vel.x)/2;a.vel.x=-g,b.vel.x=g;var h=ig.game.collisionMap.trace(a.pos.x,a.pos.y,-d/2,0,a.size.x,a.size.y);a.pos.x=Math.floor(h.pos.x);var i=ig.game.collisionMap.trace(b.pos.x,b.pos.y,d/2,0,b.size.x,b.size.y);b.pos.x=Math.ceil(i.pos.x)}},ig.Entity.seperateOnYAxis=function(a,b,c){var d=a.pos.y+a.size.y-b.pos.y;if(c){var e=a===c?b:a;c.vel.y=-c.vel.y*c.bounciness+e.vel.y;var f=0;c==a&&Math.abs(c.vel.y-e.vel.y)<c.minBounceVelocity&&(c.standing=!0,f=e.vel.x*ig.system.tick);var g=ig.game.collisionMap.trace(c.pos.x,c.pos.y,f,c==a?-d:d,c.size.x,c.size.y);c.pos.y=g.pos.y,c.pos.x=g.pos.x}else if(ig.game.gravity&&(b.standing||a.vel.y>0)){var h=ig.game.collisionMap.trace(a.pos.x,a.pos.y,0,-(a.pos.y+a.size.y-b.pos.y),a.size.x,a.size.y);a.pos.y=h.pos.y,a.bounciness>0&&a.vel.y>a.minBounceVelocity?a.vel.y*=-a.bounciness:(a.standing=!0,a.vel.y=0)}else{var i=(a.vel.y-b.vel.y)/2;a.vel.y=-i,b.vel.y=i;var f=b.vel.x*ig.system.tick,h=ig.game.collisionMap.trace(a.pos.x,a.pos.y,f,-d/2,a.size.x,a.size.y);a.pos.y=h.pos.y;var j=ig.game.collisionMap.trace(b.pos.x,b.pos.y,0,d/2,b.size.x,b.size.y);b.pos.y=j.pos.y}}}),ig.baked=!0,ig.module("impact.map").defines(function(){"use strict";ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(a,b){this.tilesize=a,this.data=b,this.height=b.length,this.width=b[0].length,this.pxWidth=this.width*this.tilesize,this.pxHeight=this.height*this.tilesize},getTile:function(a,b){var c=Math.floor(a/this.tilesize),d=Math.floor(b/this.tilesize);return c>=0&&c<this.width&&d>=0&&d<this.height?this.data[d][c]:0},setTile:function(a,b,c){var d=Math.floor(a/this.tilesize),e=Math.floor(b/this.tilesize);d>=0&&d<this.width&&e>=0&&e<this.height&&(this.data[e][d]=c)}})}),ig.baked=!0,ig.module("impact.collision-map").requires("impact.map").defines(function(){"use strict";ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(a,b,c){this.parent(a,b),this.tiledef=c||ig.CollisionMap.defaultTileDef;for(var d in this.tiledef)d|0>this.lastSlope&&(this.lastSlope=0|d)},trace:function(a,b,c,d,e,f){var g={collision:{x:!1,y:!1,slope:!1},pos:{x:a,y:b},tile:{x:0,y:0}},h=Math.ceil(Math.max(Math.abs(c),Math.abs(d))/this.tilesize);if(h>1)for(var i=c/h,j=d/h,k=0;h>k&&(i||j)&&(this._traceStep(g,a,b,i,j,e,f,c,d,k),a=g.pos.x,b=g.pos.y,g.collision.x&&(i=0,c=0),g.collision.y&&(j=0,d=0),!g.collision.slope);k++);else this._traceStep(g,a,b,c,d,e,f,c,d,0);return g},_traceStep:function(a,b,c,d,e,f,g,h,i,j){a.pos.x+=d,a.pos.y+=e;var k=0;if(d){var l=d>0?f:0,m=0>d?this.tilesize:0,n=Math.max(Math.floor(c/this.tilesize),0),o=Math.min(Math.ceil((c+g)/this.tilesize),this.height),p=Math.floor((a.pos.x+l)/this.tilesize),q=Math.floor((b+l)/this.tilesize);if((j>0||p==q||0>q||q>=this.width)&&(q=-1),p>=0&&p<this.width)for(var r=n;o>r&&!(-1!=q&&(k=this.data[r][q],k>1&&k<=this.lastSlope&&this._checkTileDef(a,k,b,c,h,i,f,g,q,r)));r++)if(k=this.data[r][p],1==k||k>this.lastSlope||k>1&&this._checkTileDef(a,k,b,c,h,i,f,g,p,r)){if(k>1&&k<=this.lastSlope&&a.collision.slope)break;a.collision.x=!0,a.tile.x=k,b=a.pos.x=p*this.tilesize-l+m,h=0;break}}if(e){var s=e>0?g:0,t=0>e?this.tilesize:0,u=Math.max(Math.floor(a.pos.x/this.tilesize),0),v=Math.min(Math.ceil((a.pos.x+f)/this.tilesize),this.width),r=Math.floor((a.pos.y+s)/this.tilesize),w=Math.floor((c+s)/this.tilesize);if((j>0||r==w||0>w||w>=this.height)&&(w=-1),r>=0&&r<this.height)for(var p=u;v>p&&!(-1!=w&&(k=this.data[w][p],k>1&&k<=this.lastSlope&&this._checkTileDef(a,k,b,c,h,i,f,g,p,w)));p++)if(k=this.data[r][p],1==k||k>this.lastSlope||k>1&&this._checkTileDef(a,k,b,c,h,i,f,g,p,r)){if(k>1&&k<=this.lastSlope&&a.collision.slope)break;a.collision.y=!0,a.tile.y=k,a.pos.y=r*this.tilesize-s+t;break}}},_checkTileDef:function(a,b,c,d,e,f,g,h,i,j){var k=this.tiledef[b];if(!k)return!1;var l=(i+k[0])*this.tilesize,m=(j+k[1])*this.tilesize,n=(k[2]-k[0])*this.tilesize,o=(k[3]-k[1])*this.tilesize,p=k[4],q=c+e+(0>o?g:0)-l,r=d+f+(n>0?h:0)-m;if(n*r-o*q>0){if(0>e*-o+f*n)return p;var s=Math.sqrt(n*n+o*o),t=o/s,u=-n/s,v=q*t+r*u,w=t*v,x=u*v;return w*w+x*x>=e*e+f*f?p||.5>n*(r-f)-o*(q-e):(a.pos.x=c+e-w,a.pos.y=d+f-x,a.collision.slope={x:n,y:o,nx:t,ny:u},!0)}return!1}});var a=.5,b=1/3,c=2/3,d=!0,e=!1;ig.CollisionMap.defaultTileDef={5:[0,1,1,c,d],6:[0,c,1,b,d],7:[0,b,1,0,d],3:[0,1,1,a,d],4:[0,a,1,0,d],2:[0,1,1,0,d],10:[a,1,1,0,d],21:[0,1,a,0,d],32:[c,1,1,0,d],43:[b,1,c,0,d],54:[0,1,b,0,d],27:[0,0,1,b,d],28:[0,b,1,c,d],29:[0,c,1,1,d],25:[0,0,1,a,d],26:[0,a,1,1,d],24:[0,0,1,1,d],11:[0,0,a,1,d],22:[a,0,1,1,d],33:[0,0,b,1,d],44:[b,0,c,1,d],55:[c,0,1,1,d],16:[1,b,0,0,d],17:[1,c,0,b,d],18:[1,1,0,c,d],14:[1,a,0,0,d],15:[1,1,0,a,d],13:[1,1,0,0,d],8:[a,1,0,0,d],19:[1,1,a,0,d],30:[b,1,0,0,d],41:[c,1,b,0,d],52:[1,1,c,0,d],38:[1,c,0,1,d],39:[1,b,0,c,d],40:[1,0,0,b,d],36:[1,a,0,1,d],37:[1,0,0,a,d],35:[1,0,0,1,d],9:[1,0,a,1,d],20:[a,0,0,1,d],31:[1,0,c,1,d],42:[c,0,b,1,d],53:[b,0,0,1,d],12:[0,0,1,0,e],23:[1,1,0,1,e],34:[1,0,1,1,e],45:[0,1,0,0,e]},ig.CollisionMap.staticNoCollision={trace:function(a,b,c,d){return{collision:{x:!1,y:!1,slope:!1},pos:{x:a+c,y:b+d},tile:{x:0,y:0}}}}}),ig.baked=!0,ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){"use strict";ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:!1,tilesetName:"",foreground:!1,enabled:!0,preRender:!1,preRenderedChunks:null,chunkSize:512,debugChunks:!1,anims:{},init:function(a,b,c){this.parent(a,b),this.setTileset(c)},setTileset:function(a){this.tilesetName=a instanceof ig.Image?a.path:a,this.tiles=new ig.Image(this.tilesetName),this.preRenderedChunks=null},setScreenPos:function(a,b){this.scroll.x=a/this.distance,this.scroll.y=b/this.distance},preRenderMapToChunks:function(){var a=this.width*this.tilesize*ig.system.scale,b=this.height*this.tilesize*ig.system.scale;this.chunkSize=Math.min(Math.max(a,b),this.chunkSize);var c=Math.ceil(a/this.chunkSize),d=Math.ceil(b/this.chunkSize);this.preRenderedChunks=[];for(var e=0;d>e;e++){this.preRenderedChunks[e]=[];for(var f=0;c>f;f++){var g=f==c-1?a-f*this.chunkSize:this.chunkSize,h=e==d-1?b-e*this.chunkSize:this.chunkSize;this.preRenderedChunks[e][f]=this.preRenderChunk(f,e,g,h)}}},preRenderChunk:function(a,b,c,d){var e=c/this.tilesize/ig.system.scale+1,f=d/this.tilesize/ig.system.scale+1,g=a*this.chunkSize/ig.system.scale%this.tilesize,h=b*this.chunkSize/ig.system.scale%this.tilesize,i=Math.floor(a*this.chunkSize/this.tilesize/ig.system.scale),j=Math.floor(b*this.chunkSize/this.tilesize/ig.system.scale),k=ig.$new("canvas");k.width=c,k.height=d,k.retinaResolutionEnabled=!1;var l=k.getContext("2d");ig.System.scaleMode(k,l);var m=ig.system.context;ig.system.context=l;for(var n=0;e>n;n++)for(var o=0;f>o;o++)if(n+i<this.width&&o+j<this.height){var p=this.data[o+j][n+i];p&&this.tiles.drawTile(n*this.tilesize-g,o*this.tilesize-h,p-1,this.tilesize)}return ig.system.context=m,k},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.drawPreRendered():this.drawTiled())},drawPreRendered:function(){this.preRenderedChunks||this.preRenderMapToChunks();var a=ig.system.getDrawPos(this.scroll.x),b=ig.system.getDrawPos(this.scroll.y);if(this.repeat){var c=this.width*this.tilesize*ig.system.scale;a=(a%c+c)%c;var d=this.height*this.tilesize*ig.system.scale;b=(b%d+d)%d}var e=Math.max(Math.floor(a/this.chunkSize),0),f=Math.max(Math.floor(b/this.chunkSize),0),g=Math.ceil((a+ig.system.realWidth)/this.chunkSize),h=Math.ceil((b+ig.system.realHeight)/this.chunkSize),i=this.preRenderedChunks[0].length,j=this.preRenderedChunks.length;this.repeat||(g=Math.min(g,i),h=Math.min(h,j));for(var k=0,l=f;h>l;l++){for(var m=0,n=e;g>n;n++){var o=this.preRenderedChunks[l%j][n%i],p=-a+n*this.chunkSize-m,q=-b+l*this.chunkSize-k;ig.system.context.drawImage(o,p,q),ig.Image.drawCount++,this.debugChunks&&(ig.system.context.strokeStyle="#f0f",ig.system.context.strokeRect(p,q,this.chunkSize,this.chunkSize)),this.repeat&&o.width<this.chunkSize&&p+o.width<ig.system.realWidth&&(m+=this.chunkSize-o.width,g++)}this.repeat&&o.height<this.chunkSize&&q+o.height<ig.system.realHeight&&(k+=this.chunkSize-o.height,h++)}},drawTiled:function(){for(var a=0,b=null,c=(this.scroll.x/this.tilesize).toInt(),d=(this.scroll.y/this.tilesize).toInt(),e=this.scroll.x%this.tilesize,f=this.scroll.y%this.tilesize,g=-e-this.tilesize,h=-f-this.tilesize,i=ig.system.width+this.tilesize-e,j=ig.system.height+this.tilesize-f,k=-1,l=h;j>l;k++,l+=this.tilesize){var m=k+d;if(m>=this.height||0>m){if(!this.repeat)continue;m=(m%this.height+this.height)%this.height}for(var n=-1,o=g;i>o;n++,o+=this.tilesize){var p=n+c;if(p>=this.width||0>p){if(!this.repeat)continue;p=(p%this.width+this.width)%this.width}(a=this.data[m][p])&&((b=this.anims[a-1])?b.draw(o,l):this.tiles.drawTile(o,l,a-1,this.tilesize))}}}})}),ig.baked=!0,ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){"use strict";ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:!1,staticInstantiate:function(){return this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX,ig.game=this,null},loadLevel:function(a){this.screen={x:0,y:0},this.entities=[],this.namedEntities={};for(var b=0;b<a.entities.length;b++){var c=a.entities[b];this.spawnEntity(c.type,c.x,c.y,c.settings)}this.sortEntities(),this.collisionMap=ig.CollisionMap.staticNoCollision,this.backgroundMaps=[];for(var b=0;b<a.layer.length;b++){var d=a.layer[b];if("collision"==d.name)this.collisionMap=new ig.CollisionMap(d.tilesize,d.data);else{var e=new ig.BackgroundMap(d.tilesize,d.data,d.tilesetName);e.anims=this.backgroundAnims[d.tilesetName]||{},e.repeat=d.repeat,e.distance=d.distance,e.foreground=!!d.foreground,e.preRender=!!d.preRender,e.name=d.name,this.backgroundMaps.push(e)}}for(var b=0;b<this.entities.length;b++)this.entities[b].ready()},loadLevelDeferred:function(a){this._levelToLoad=a},getMapByName:function(a){if("collision"==a)return this.collisionMap;for(var b=0;b<this.backgroundMaps.length;b++)if(this.backgroundMaps[b].name==a)return this.backgroundMaps[b];return null},getEntityByName:function(a){return this.namedEntities[a]},getEntitiesByType:function(a){for(var b="string"==typeof a?ig.global[a]:a,c=[],d=0;d<this.entities.length;d++){var e=this.entities[d];e instanceof b&&!e._killed&&c.push(e)}return c},spawnEntity:function(a,b,c,d){var e="string"==typeof a?ig.global[a]:a;if(!e)throw"Can't spawn entity of type "+a;var f=new e(b,c,d||{});return this.entities.push(f),f.name&&(this.namedEntities[f.name]=f),f},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=!0},removeEntity:function(a){a.name&&delete this.namedEntities[a.name],a._killed=!0,a.type=ig.Entity.TYPE.NONE,a.checkAgainst=ig.Entity.TYPE.NONE,a.collides=ig.Entity.COLLIDES.NEVER,this._deferredKill.push(a)},run:function(){this.update(),this.draw()},update:function(){this._levelToLoad&&(this.loadLevel(this._levelToLoad),this._levelToLoad=null),this.updateEntities(),this.checkEntities();for(var a=0;a<this._deferredKill.length;a++)this._deferredKill[a].erase(),this.entities.erase(this._deferredKill[a]);this._deferredKill=[],(this._doSortEntities||this.autoSort)&&(this.sortEntities(),this._doSortEntities=!1);for(var b in this.backgroundAnims){var c=this.backgroundAnims[b];for(var d in c)c[d].update()}},updateEntities:function(){for(var a=0;a<this.entities.length;a++){var b=this.entities[a];b._killed||b.update()}},draw:function(){this.clearColor&&ig.system.clear(this.clearColor),this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale,this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var a;for(a=0;a<this.backgroundMaps.length;a++){var b=this.backgroundMaps[a];if(b.foreground)break;b.setScreenPos(this.screen.x,this.screen.y),b.draw()}for(this.drawEntities(),a;a<this.backgroundMaps.length;a++){var b=this.backgroundMaps[a];b.setScreenPos(this.screen.x,this.screen.y),b.draw()}},drawEntities:function(){for(var a=0;a<this.entities.length;a++)this.entities[a].draw()},checkEntities:function(){for(var a={},b=0;b<this.entities.length;b++){var c=this.entities[b];if(c.type!=ig.Entity.TYPE.NONE||c.checkAgainst!=ig.Entity.TYPE.NONE||c.collides!=ig.Entity.COLLIDES.NEVER)for(var d={},e=Math.floor(c.pos.x/this.cellSize),f=Math.floor(c.pos.y/this.cellSize),g=Math.floor((c.pos.x+c.size.x)/this.cellSize)+1,h=Math.floor((c.pos.y+c.size.y)/this.cellSize)+1,i=e;g>i;i++)for(var j=f;h>j;j++)if(a[i])if(a[i][j]){for(var k=a[i][j],l=0;l<k.length;l++)c.touches(k[l])&&!d[k[l].id]&&(d[k[l].id]=!0,ig.Entity.checkPair(c,k[l]));k.push(c)}else a[i][j]=[c];else a[i]={},a[i][j]=[c]}}}),ig.Game.SORT={Z_INDEX:function(a,b){return a.zIndex-b.zIndex},POS_X:function(a,b){return a.pos.x+a.size.x-(b.pos.x+b.size.x)},POS_Y:function(a,b){return a.pos.y+a.size.y-(b.pos.y+b.size.y)}}}),ig.baked=!0,ig.module("plugins.touch-button").requires("impact.system","impact.input","impact.image").defines(function(){"use strict";ig.TouchButton=ig.Class.extend({action:"undefined",image:null,tile:0,pos:{x:0,y:0},size:{x:0,y:0},area:{x1:0,y1:0,x2:0,y2:0},pressed:!1,touchId:0,anchor:null,init:function(a,b,c,d,e,f){this.action=a,this.anchor=b,this.size={x:c,y:d},this.image=e||null,this.tile=f||0},align:function(a,b){"left"in this.anchor?this.pos.x=this.anchor.left:"right"in this.anchor&&(this.pos.x=a-this.anchor.right-this.size.x),"top"in this.anchor?this.pos.y=this.anchor.top:"bottom"in this.anchor&&(this.pos.y=b-this.anchor.bottom-this.size.y);var c=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth,d=ig.system.scale*(c/ig.system.realWidth);this.area={x1:this.pos.x*d,y1:this.pos.y*d,x2:(this.pos.x+this.size.x)*d,y2:(this.pos.y+this.size.y)*d}},touchStart:function(a){if(!this.pressed){var b={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(b=ig.system.canvas.getBoundingClientRect());for(var c=0;c<a.touches.length;c++){var d=a.touches[c];if(this.checkStart(d.identifier,d.clientX-b.left,d.clientY-b.top))return}}},touchEnd:function(a){if(this.pressed)for(var b=0;b<a.changedTouches.length;b++)if(this.checkEnd(a.changedTouches[b].identifier))return},touchStartMS:function(a){if(!this.pressed){var b={left:0,top:0};ig.system.canvas.getBoundingClientRect&&(b=ig.system.canvas.getBoundingClientRect()),this.checkStart(a.pointerId,a.clientX-b.left,a.clientY-b.top)}},touchEndMS:function(a){this.pressed&&this.checkEnd(a.pointerId)},checkStart:function(a,b,c){return b>this.area.x1&&b<this.area.x2&&c>this.area.y1&&c<this.area.y2?(this.pressed=!0,this.touchId=a,ig.input.actions[this.action]=!0,ig.input.locks[this.action]||(ig.input.presses[this.action]=!0,ig.input.locks[this.action]=!0),!0):!1},checkEnd:function(a){return a===this.touchId?(this.pressed=!1,this.touchId=0,ig.input.delayedKeyup[this.action]=!0,!0):!1},draw:function(){this.image&&this.image.drawTile(this.pos.x,this.pos.y,this.tile,this.size.x,this.size.y)}}),ig.TouchButtonCollection=ig.Class.extend({buttons:[],init:function(a){this.buttons=a,document.addEventListener("touchstart",this.touchStart.bind(this),!1),document.addEventListener("touchend",this.touchEnd.bind(this),!1),document.addEventListener("MSPointerDown",this.touchStartMS.bind(this),!1),document.addEventListener("MSPointerUp",this.touchEndMS.bind(this),!1),document.body.style.msTouchAction="none"},touchStart:function(a){a.preventDefault();for(var b=0;b<this.buttons.length;b++)this.buttons[b].touchStart(a)},touchEnd:function(a){a.preventDefault();for(var b=0;b<this.buttons.length;b++)this.buttons[b].touchEnd(a)},touchStartMS:function(a){a.preventDefault();for(var b=0;b<this.buttons.length;b++)this.buttons[b].touchStartMS(a)},touchEndMS:function(a){a.preventDefault();for(var b=0;b<this.buttons.length;b++)this.buttons[b].touchEndMS(a)},align:function(){for(var a=ig.system.width||window.innerWidth,b=ig.system.height||window.innerHeight,c=0;c<this.buttons.length;c++)this.buttons[c].align(a,b)},draw:function(){for(var a=0;a<this.buttons.length;a++)this.buttons[a].draw()}})}),ig.baked=!0,ig.module("game.entities.SrStrawberry").requires("impact.entity","plugins.touch-button").defines(function(){EntitySrStrawberry=ig.Entity.extend({name:"SrStrawberry",size:{x:320,y:360},zIndex:999,animSheet:new ig.AnimationSheet("media/sr_strawberry.jpg",320,360),init:function(a,b,c){this.addAnim("idle",1,[0]),this.addAnim("blink",.05,[1,2,3,4,5,6,7,8,9,10,11,0],!0),this.parent(a,b,c);var d=new ig.TouchButtonCollection([new ig.TouchButton("blink",{left:this.pos.x,top:this.pos.y},this.size.x,this.size.y)]);d.align()},update:function(){this.parent(),ig.input.pressed("blink")&&(this.currentAnim=this.anims.blink.rewind())}})}),ig.baked=!0,ig.module("game.entities.Strawberry").requires("impact.entity").defines(function(){EntityStrawberry=ig.Entity.extend({zIndex:999,init:function(a,b,c){this.addAnim("idle",1,[0]),this.parent(a,b,c)},update:function(){this.pos.y>ig.game.screen.y+ig.system.realHeight&&(this.pos.y=-376),this.pos.y+=1,this.currentAnim.angle+=.02,this.parent()}})}),ig.baked=!0,ig.module("game.entities.Strawberry01").requires("impact.entity","game.entities.Strawberry").defines(function(){EntityStrawberry01=EntityStrawberry.extend({name:"Strawberry01",size:{x:129,y:175},animSheet:new ig.AnimationSheet("media/fresa01.png",129,175)})}),ig.baked=!0,ig.module("game.entities.Strawberry02").requires("impact.entity","game.entities.Strawberry").defines(function(){EntityStrawberry02=EntityStrawberry.extend({name:"Strawberry02",size:{x:178,y:141},animSheet:new ig.AnimationSheet("media/fresa02.png",178,141)})}),ig.baked=!0,ig.module("game.entities.Strawberry03").requires("impact.entity","game.entities.Strawberry").defines(function(){EntityStrawberry03=EntityStrawberry.extend({name:"Strawberry03",size:{x:220,y:186},animSheet:new ig.AnimationSheet("media/fresa03.png",220,186)})}),ig.baked=!0,ig.module("game.levels.rojo").requires("impact.image","game.entities.SrStrawberry","game.entities.Strawberry01","game.entities.Strawberry02","game.entities.Strawberry03").defines(function(){LevelRojo={name:"LevelRojo",entities:[{type:"EntitySrStrawberry",x:96,y:170},{type:"EntityStrawberry01",x:561,y:-420},{type:"EntityStrawberry02",x:694,y:-626},{type:"EntityStrawberry03",x:752,y:-188}],layer:[{name:"fondo_blanco",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/blanco.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,1,0,0],[1,1,0,0],[1,1,0,0]]},{name:"fondo_rojo",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/fondo_rojo.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]},{name:"textura",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/textura_rojo.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!0,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]}]},LevelRojoResources=[new ig.Image("media/blanco.png"),new ig.Image("media/fondo_rojo.jpg"),new ig.Image("media/textura_rojo.png")]}),ig.baked=!0,ig.module("game.levels.home").requires("impact.image").defines(function(){LevelHome={name:"LevelHome",entities:[],layer:[{name:"fondo",width:4,height:3,linkWithCollision:!1,visible:!0,tilesetName:"media/launch_image.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,2,3,4],[5,6,7,8],[9,10,11,12]]}]},LevelHomeResources=[new ig.Image("media/launch_image.jpg")]}),ig.baked=!0,ig.module("game.entities.Orange").requires("impact.entity").defines(function(){EntityOrange=ig.Entity.extend({zIndex:999,init:function(a,b,c){this.addAnim("idle",1,[0]),this.parent(a,b,c)},update:function(){this.currentAnim.angle+=.01,this.parent()}})}),ig.baked=!0,ig.module("game.entities.Orange01").requires("impact.entity","game.entities.Orange").defines(function(){EntityOrange01=EntityOrange.extend({name:"Orange01",size:{x:272,y:256},animSheet:new ig.AnimationSheet("media/naranja_01.png",272,256)})}),ig.baked=!0,ig.module("game.entities.Orange02").requires("impact.entity","game.entities.Orange").defines(function(){EntityOrange02=EntityOrange.extend({name:"Orange02",size:{x:291,y:273},animSheet:new ig.AnimationSheet("media/naranja_02.png",291,273)})}),ig.baked=!0,ig.module("game.entities.SrOrange").requires("impact.entity","plugins.touch-button").defines(function(){EntitySrOrange=ig.Entity.extend({name:"SrStrawberry",size:{x:305,y:301},zIndex:999,animSheet:new ig.AnimationSheet("media/sr_orange.jpg",305,301),init:function(a,b,c){this.addAnim("idle",1,[0]),this.addAnim("tongue",.2,[1,0],!0),this.parent(a,b,c);var d=new ig.TouchButtonCollection([new ig.TouchButton("tongue",{left:this.pos.x,top:this.pos.y},this.size.x,this.size.y)]);d.align()},update:function(){this.parent(),ig.input.pressed("tongue")&&(this.currentAnim=this.anims.tongue.rewind())}})}),ig.baked=!0,ig.module("game.levels.naranja").requires("impact.image","game.entities.Orange01","game.entities.Orange02","game.entities.SrOrange").defines(function(){LevelNaranja={name:"LevelNaranja",entities:[{type:"EntityOrange01",x:732,y:138},{type:"EntityOrange02",x:492,y:444},{type:"EntitySrOrange",x:100,y:210}],layer:[{name:"fondo_naranja",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/fondo_naranja.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]},{name:"fondo_blanco",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/blanco.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,1,0,0],[1,1,0,0],[1,1,0,0]]},{name:"tapar_naranja",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/blanco.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!0,data:[[0,0,0,0],[0,0,0,0],[0,1,0,0]]},{name:"textura",width:4,height:3,linkWithCollision:!1,visible:0,tilesetName:"media/textura_naranja.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!0,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]}]},LevelNaranjaResources=[new ig.Image("media/fondo_naranja.jpg"),new ig.Image("media/blanco.png"),new ig.Image("media/blanco.png"),new ig.Image("media/textura_naranja.png")]}),ig.baked=!0,ig.module("game.entities.Rayos02").requires("impact.entity").defines(function(){EntityRayos02=ig.Entity.extend({name:"Rayos02",size:{x:1412,y:1410},zIndex:-10,animSheet:new ig.AnimationSheet("media/02_rayos.png",1412,1410),init:function(a,b,c){this.addAnim("idle",1,[0]),this.parent(a,b,c)},update:function(){this.currentAnim.angle+=8e-4}})}),ig.baked=!0,ig.module("game.entities.SrYellow").requires("impact.entity","plugins.touch-button").defines(function(){EntitySrYellow=ig.Entity.extend({name:"SrYellow",size:{x:190,y:363},zIndex:999,animSheet:new ig.AnimationSheet("media/sr_yellow.jpg",190,363),init:function(a,b,c){this.addAnim("idle",1,[0]),this.addAnim("wave",.041,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,23,0],!0),this.parent(a,b,c);var d=new ig.TouchButtonCollection([new ig.TouchButton("wave",{left:this.pos.x,top:this.pos.y},this.size.x,this.size.y)]);d.align()},update:function(){this.parent(),ig.input.pressed("wave")&&(this.currentAnim=this.anims.wave.rewind())}})}),ig.baked=!0,ig.module("game.levels.amarillo").requires("impact.image","game.entities.Rayos02","game.entities.SrYellow").defines(function(){LevelAmarillo={name:"LevelAmarillo",entities:[{type:"EntityRayos02",x:160,y:-472},{type:"EntitySrYellow",x:176,y:156}],layer:[{name:"fondo",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/fondo_amarillo.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]},{name:"fondo_blanco",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/blanco.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,1,0,0],[1,1,0,0],[1,1,0,0]]},{name:"sol",width:16,height:12,linkWithCollision:!1,visible:1,tilesetName:"media/03_sol.png",repeat:!1,preRender:!1,distance:"1",tilesize:64,foreground:!0,data:[[681,682,683,684,685,686,687,688,689,690,691,692,693,694,695,696],[729,730,731,732,733,734,735,736,737,0,0,0,0,0,0,0],[777,778,779,780,781,782,783,784,785,0,0,0,1,2,3,0],[825,826,827,828,829,830,831,832,833,0,0,0,4,5,6,0],[873,874,875,876,877,878,879,880,881,0,0,0,7,8,9,0],[921,922,923,924,925,926,927,928,929,0,0,0,0,0,0,0],[969,970,971,972,973,974,975,976,977,0,0,0,0,0,0,0],[1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032],[1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080],[1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128],[1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176],[1209,1210,1211,1212,1213,1214,1215,1216,1217,1218,1219,1220,1221,1222,1223,1224]]},{name:"textura",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/textura_amarillo.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!0,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]}]},LevelAmarilloResources=[new ig.Image("media/fondo_amarillo.jpg"),new ig.Image("media/blanco.png"),new ig.Image("media/03_sol.png"),new ig.Image("media/textura_amarillo.png")]}),ig.baked=!0,ig.module("game.entities.SrGreen").requires("impact.entity","plugins.touch-button").defines(function(){EntitySrGreen=ig.Entity.extend({name:"SrGreen",size:{x:290,y:392},zIndex:999,animSheet:new ig.AnimationSheet("media/sr_green.jpg",290,392),init:function(a,b,c){this.addAnim("idle",1,[0]),this.addAnim("blink",.1,[1,2,3,4,5,6,7,8,9,10,11,0],!0),this.parent(a,b,c);var d=new ig.TouchButtonCollection([new ig.TouchButton("blink",{left:this.pos.x,top:this.pos.y},this.size.x,this.size.y)]);d.align()},update:function(){this.parent(),ig.input.pressed("blink")&&(this.currentAnim=this.anims.blink.rewind())}})}),ig.baked=!0,ig.module("game.entities.Arbol").requires("impact.entity").defines(function(){EntityArbol=ig.Entity.extend({zIndex:999,init:function(a,b,c){this.addAnim("idle",1,[0]),this.addAnim("move",.061,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,0]),this.parent(a,b,c)},update:function(){this.parent(),this.currentAnim===this.anims.idle&&(this.currentAnim=this.anims.move.rewind())}})}),ig.baked=!0,ig.module("game.entities.Arbol01").requires("game.entities.Arbol").defines(function(){EntityArbol01=EntityArbol.extend({name:"Arbol01",size:{x:208,y:201},animSheet:new ig.AnimationSheet("media/arbol01_sprite.png",208,201)})}),ig.baked=!0,ig.module("game.entities.Arbol02").requires("game.entities.Arbol").defines(function(){EntityArbol02=EntityArbol.extend({name:"Arbol02",size:{x:208,y:201},animSheet:new ig.AnimationSheet("media/arbol02_sprite.png",208,201)})}),ig.baked=!0,ig.module("game.levels.green").requires("impact.image","game.entities.SrGreen","game.entities.Arbol01","game.entities.Arbol02").defines(function(){LevelGreen={name:"LevelGreen",entities:[{type:"EntitySrGreen",x:104,y:144},{type:"EntityArbol01",x:600,y:314},{type:"EntityArbol02",x:516,y:190},{type:"EntityArbol01",x:754,y:40},{type:"EntityArbol02",x:696,y:174},{type:"EntityArbol01",x:570,y:44},{type:"EntityArbol02",x:874,y:190},{type:"EntityArbol01",x:790,y:310},{type:"EntityArbol02",x:518,y:446},{type:"EntityArbol02",x:704,y:448},{type:"EntityArbol02",x:878,y:460},{type:"EntityArbol01",x:586,y:566},{type:"EntityArbol01",x:758,y:578}],layer:[{name:"fondo_verde",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/fondo_verde.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]},{name:"fondo_blanco",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/blanco.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,1,0,0],[1,1,0,0],[1,1,0,0]]}]},LevelGreenResources=[new ig.Image("media/fondo_verde.jpg"),new ig.Image("media/blanco.png")]}),ig.baked=!0,ig.module("game.entities.SrBlue").requires("impact.entity","plugins.touch-button").defines(function(){EntitySrBlue=ig.Entity.extend({name:"SrBlue",size:{x:185,y:243},zIndex:999,animSheet:new ig.AnimationSheet("media/sr_blue.png",185,243),init:function(a,b,c){this.addAnim("idle",1,[0]),this.addAnim("pointing",.041,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,23,0],!0),this.parent(a,b,c);var d=new ig.TouchButtonCollection([new ig.TouchButton("ponting",{left:this.pos.x,top:this.pos.y},this.size.x,this.size.y)]);d.align()},update:function(){this.parent(),ig.input.pressed("ponting")&&(this.currentAnim=this.anims.pointing.rewind())}})}),ig.baked=!0,ig.module("game.entities.Nube").requires("impact.entity").defines(function(){EntityNube=ig.Entity.extend({zIndex:999,init:function(a,b,c){this.addAnim("idle",1,[0]),this.parent(a,b,c)},update:function(){this.parent(),this.pos.x+this.size.x<(ig.game.screen.x+ig.system.realWidth)/2&&(this.pos.x=ig.system.realWidth)}})}),ig.baked=!0,ig.module("game.entities.Nube01").requires("game.entities.Nube").defines(function(){EntityNube01=EntityNube.extend({name:"Nube01",size:{x:184,y:82},animSheet:new ig.AnimationSheet("media/nube01.png",184,82),init:function(a,b,c){this.vel.x=-50,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.Nube02").requires("game.entities.Nube").defines(function(){EntityNube02=EntityNube.extend({name:"Nube02",size:{x:193,y:80},animSheet:new ig.AnimationSheet("media/nube02.png",193,80),init:function(a,b,c){this.vel.x=-45,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.Nube03").requires("game.entities.Nube").defines(function(){EntityNube03=EntityNube.extend({name:"Nube03",size:{x:193,y:84},animSheet:new ig.AnimationSheet("media/nube03.png",193,84),init:function(a,b,c){this.vel.x=-30,this.accel.x=-2,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.Nube04").requires("game.entities.Nube").defines(function(){EntityNube04=EntityNube.extend({name:"Nube04",size:{x:253,y:119},animSheet:new ig.AnimationSheet("media/nube04.png",253,119),init:function(a,b,c){this.vel.x=-37,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.Nube05").requires("game.entities.Nube").defines(function(){EntityNube05=EntityNube.extend({name:"Nube05",size:{x:228,y:101},animSheet:new ig.AnimationSheet("media/nube05.png",228,101),init:function(a,b,c){this.vel.x=-33,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.Pajaro").requires("impact.entity").defines(function(){EntityPajaro=ig.Entity.extend({name:"Pajaro",size:{x:145,y:138},zIndex:999,origY:0,animSheet:new ig.AnimationSheet("media/pajaro.png",145,138),init:function(a,b,c){this.addAnim("idle",1,[0]),this.addAnim("fly",.2,[1,2,1,2,1,2,1,2,0],!0),this.vel.x=40,this.vel.y=10,this.origY=b,this.parent(a,b,c)},update:function(){this.parent(),this.pos.x>ig.game.screen.x+ig.system.realWidth&&(this.pos.x=ig.system.realWidth/2-2*this.size.y,this.pos.y=this.origY),this.currentAnim===this.anims.idle&&this.currentAnim.loopCount>2&&(this.currentAnim=this.anims.fly.rewind()),this.currentAnim===this.anims.fly&&8===this.currentAnim.frame&&(this.currentAnim=this.anims.idle.rewind()),this.currentAnim===this.anims.fly&&(this.pos.x+=1,this.pos.y-=1)}})}),ig.baked=!0,ig.module("game.levels.azul").requires("impact.image","game.entities.SrBlue","game.entities.Nube01","game.entities.Nube02","game.entities.Nube03","game.entities.Nube04","game.entities.Nube05","game.entities.Pajaro").defines(function(){LevelAzul={name:"LevelAzul",entities:[{type:"EntitySrBlue",x:144,y:252},{type:"EntityNube01",x:660,y:560},{type:"EntityNube02",x:416,y:616},{type:"EntityNube03",x:568,y:676},{type:"EntityNube04",x:852,y:636},{type:"EntityNube05",x:980,y:508},{type:"EntityPajaro",x:604,y:144}],layer:[{name:"fondo_azul",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/fondo_azul.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]},{name:"fondo_blanco",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/blanco.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,1,0,0],[1,1,0,0],[1,1,0,0]]}]},LevelAzulResources=[new ig.Image("media/fondo_azul.jpg"),new ig.Image("media/blanco.png")]
}),ig.baked=!0,ig.module("game.entities.Ola").requires("impact.entity").defines(function(){EntityOla=ig.Entity.extend({zIndex:999,i:0,origY:0,origX:0,velocity:30,radious:2,init:function(a,b,c){this.origY=b,this.origX=a,this.parent(a,b,c)},update:function(){var a=2*Math.PI,b=Math.PI/100;this.i=this.i>a?0:this.i+b,this.pos.y=this.origY-this.velocity*Math.sin(this.radious*this.i),this.pos.x=this.i<Math.PI?this.origX+this.velocity*this.i:this.origX+this.velocity*(a-this.i),this.parent()}})}),ig.baked=!0,ig.module("game.entities.Ola01").requires("game.entities.Ola").defines(function(){EntityOla01=EntityOla.extend({name:"Ola01",size:{x:768,y:230},animSheet:new ig.AnimationSheet("media/olas01.png",768,230),init:function(a,b,c){this.addAnim("idle",1,[0]),this.origY=b,this.origX=a,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.Ola02").requires("game.entities.Ola").defines(function(){EntityOla02=EntityOla.extend({name:"Ola02",size:{x:768,y:221},animSheet:new ig.AnimationSheet("media/olas02.png",768,221),init:function(a,b,c){this.addAnim("idle",1,[0]),this.origY=b,this.origX=a,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.Ola03").requires("game.entities.Ola").defines(function(){EntityOla03=EntityOla.extend({name:"Ola03",size:{x:768,y:220},animSheet:new ig.AnimationSheet("media/olas03.png",768,220),init:function(a,b,c){this.addAnim("idle",1,[0]),this.origY=b,this.origX=a,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.Ola04").requires("game.entities.Ola").defines(function(){EntityOla04=EntityOla.extend({name:"Ola04",size:{x:768,y:195},animSheet:new ig.AnimationSheet("media/olas04.png",768,195),init:function(a,b,c){this.addAnim("idle",1,[0]),this.origY=b,this.origX=a,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.Ola05").requires("game.entities.Ola").defines(function(){EntityOla05=EntityOla.extend({name:"Ola05",size:{x:768,y:229},animSheet:new ig.AnimationSheet("media/olas05.png",768,229),init:function(a,b,c){this.addAnim("idle",1,[0]),this.origY=b,this.origX=a,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.Pez").requires("impact.entity").defines(function(){EntityPez=ig.Entity.extend({zIndex:998,origY:0,refX:0,init:function(a,b,c){this.addAnim("idle",1,[0]),this.origY=b,this.refX=a,this.vel.x=-75,this.parent(a,b,c)},update:function(){this.parent();var a=this.refX-this.pos.x;this.pos.y=this.origY-100*Math.sin(.01*a);var b=this.origY-this.pos.y;this.refX=0===b?this.pos.x:this.refX,this.anims.idle.angle=Math.atan(b/a)||0,this.pos.x+this.size.x<(ig.game.screen.x+ig.system.realWidth)/2&&(this.pos.x=ig.system.realWidth,this.refX=this.pos.x,this.origY=Math.floor(Math.random()*(ig.system.realHeight-400+1)+400))}})}),ig.baked=!0,ig.module("game.entities.Pez01").requires("game.entities.Pez").defines(function(){EntityPez01=EntityPez.extend({name:"Pez01",size:{x:81,y:44},animSheet:new ig.AnimationSheet("media/pez01.png",81,44)})}),ig.baked=!0,ig.module("game.entities.Pez02").requires("game.entities.Pez").defines(function(){EntityPez02=EntityPez.extend({name:"Pez02",size:{x:75,y:50},animSheet:new ig.AnimationSheet("media/pez02.png",75,50)})}),ig.baked=!0,ig.module("game.entities.Ola06").requires("game.entities.Ola").defines(function(){EntityOla06=EntityOla.extend({name:"Ola06",size:{x:785,y:204},animSheet:new ig.AnimationSheet("media/olas06.png",785,204),init:function(a,b,c){this.addAnim("idle",1,[0]),this.origY=b,this.origX=a,this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.White").requires("impact.entity").defines(function(){EntityWhite=ig.Entity.extend({name:"White",size:{x:256,y:256},zIndex:0,animSheet:new ig.AnimationSheet("media/blanco.png",256,256),init:function(a,b,c){this.addAnim("idle",1,[0]),this.parent(a,b,c)}})}),ig.baked=!0,ig.module("game.entities.SrIndigo").requires("impact.entity","plugins.touch-button").defines(function(){EntitySrIndigo=ig.Entity.extend({name:"SrIndigo",size:{x:280,y:244},zIndex:999,animSheet:new ig.AnimationSheet("media/sr_indigo.png",280,244),init:function(a,b,c){this.addAnim("idle",1,[0]),this.addAnim("showoff",.041,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,23,0],!0),this.parent(a,b,c);var d=new ig.TouchButtonCollection([new ig.TouchButton("showoff",{left:this.pos.x,top:this.pos.y},this.size.x,this.size.y)]);d.align()},update:function(){this.parent(),ig.input.pressed("showoff")&&(this.currentAnim=this.anims.showoff.rewind())}})}),ig.baked=!0,ig.module("game.levels.anil").requires("impact.image","game.entities.Ola01","game.entities.Ola02","game.entities.Ola03","game.entities.Ola04","game.entities.Ola05","game.entities.Pez01","game.entities.Pez02","game.entities.Ola06","game.entities.White","game.entities.SrIndigo").defines(function(){LevelAnil={name:"LevelAnil",entities:[{type:"EntityOla01",x:358,y:154,settings:{zIndex:994,radious:2}},{type:"EntityOla02",x:364,y:260,settings:{zIndex:995,radious:1}},{type:"EntityOla03",x:360,y:350,settings:{zIndex:996,radious:2}},{type:"EntityOla04",x:358,y:424,settings:{zIndex:997,radious:1}},{type:"EntityOla05",x:376,y:500,settings:{zIndex:998,radious:2}},{type:"EntityPez01",x:874,y:598},{type:"EntityPez02",x:660,y:502},{type:"EntityOla06",x:392,y:600,settings:{zIndex:999,radious:1}},{type:"EntityWhite",x:256,y:512,settings:{zIndex:1e3}},{type:"EntityWhite",x:256,y:256,settings:{zIndex:1e3}},{type:"EntityWhite",x:256,y:2,settings:{zIndex:1e3}},{type:"EntitySrIndigo",x:112,y:276,settings:{zIndex:1001}}],layer:[{name:"fondo_anil",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/fondo_anil.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]},{name:"fondo_blanco",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/blanco.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,1,0,0],[1,1,0,0],[1,1,0,0]]},{name:"textura",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/textura_anil.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!0,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]}]},LevelAnilResources=[new ig.Image("media/fondo_anil.jpg"),new ig.Image("media/blanco.png"),new ig.Image("media/textura_anil.png")]}),ig.baked=!0,ig.module("game.entities.SrtViolet").requires("impact.entity","plugins.touch-button").defines(function(){EntitySrtViolet=ig.Entity.extend({name:"SrtViolet",size:{x:292,y:331},zIndex:999,animSheet:new ig.AnimationSheet("media/sr_violet.jpg",292,331),init:function(a,b,c){this.addAnim("idle",1,[0]),this.addAnim("dance",.041,[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,21,23,0],!0),this.parent(a,b,c);var d=new ig.TouchButtonCollection([new ig.TouchButton("dance",{left:this.pos.x,top:this.pos.y},this.size.x,this.size.y)]);d.align()},update:function(){this.parent(),ig.input.pressed("dance")&&(this.currentAnim=this.anims.dance.rewind())}})}),ig.baked=!0,ig.module("game.entities.Flor").requires("impact.entity").defines(function(){EntityFlor=ig.Entity.extend({zIndex:999,name:"Flor",size:{x:148,y:150},animSheet:new ig.AnimationSheet("media/flor.png",148,150),direction:1,init:function(a,b,c){this.addAnim("idle",1,[0]),this.parent(a,b,c)},update:function(){this.currentAnim.angle+=.01*this.direction,this.parent()}})}),ig.baked=!0,ig.module("game.levels.violeta").requires("impact.image","game.entities.SrtViolet","game.entities.Flor").defines(function(){LevelVioleta={name:"LevelVioleta",entities:[{type:"EntitySrtViolet",x:112,y:216},{type:"EntityFlor",x:524,y:104},{type:"EntityFlor",x:704,y:104},{type:"EntityFlor",x:880,y:104},{type:"EntityFlor",x:608,y:268,settings:{direction:-1}},{type:"EntityFlor",x:804,y:268,settings:{direction:-1}},{type:"EntityFlor",x:524,y:444},{type:"EntityFlor",x:704,y:444},{type:"EntityFlor",x:880,y:444},{type:"EntityFlor",x:608,y:616,settings:{direction:-1}},{type:"EntityFlor",x:804,y:612,settings:{direction:-1}}],layer:[{name:"fondo",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/fondo_violeta.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]},{name:"fondo_blanco",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/blanco.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,1,0,0],[1,1,0,0],[1,1,0,0]]},{name:"textura",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/textura_violeta.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!0,data:[[0,0,1,2],[0,0,3,4],[0,0,5,6]]}]},LevelVioletaResources=[new ig.Image("media/fondo_violeta.jpg"),new ig.Image("media/blanco.png"),new ig.Image("media/textura_violeta.png")]}),ig.baked=!0,ig.module("game.entities.Question").requires("impact.entity","plugins.touch-button").defines(function(){EntityQuestion=ig.Entity.extend({name:"Question",size:{x:296,y:549},zIndex:999,animSheet:new ig.AnimationSheet("media/interrogante.jpg",296,549),init:function(a,b,c){this.addAnim("idle",1,[0]),this.addAnim("smile",.2,[1,0],!0),this.parent(a,b,c);var d=new ig.TouchButtonCollection([new ig.TouchButton("smile",{left:this.pos.x,top:this.pos.y},this.size.x,this.size.y)]);d.align()},update:function(){this.parent(),ig.input.pressed("smile")&&(this.currentAnim=this.anims.smile.rewind())}})}),ig.baked=!0,ig.module("game.levels.todos").requires("impact.image","game.entities.Question").defines(function(){LevelTodos={name:"LevelTodos",entities:[{type:"EntityQuestion",x:632,y:96}],layer:[{name:"fondo",width:4,height:3,linkWithCollision:!1,visible:!0,tilesetName:"media/fondo_todos.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,2,0,0],[3,4,0,0],[5,6,0,0]]},{name:"fondo_blanco",width:4,height:3,linkWithCollision:!1,visible:!0,tilesetName:"media/blanco.png",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[0,0,1,1],[0,0,1,1],[0,0,1,1]]}]},LevelTodosResources=[new ig.Image("media/fondo_todos.jpg"),new ig.Image("media/blanco.png")]}),ig.baked=!0,ig.module("game.levels.respuesta").requires("impact.image").defines(function(){LevelRespuesta={name:"LevelRespuesta",entities:[],layer:[{name:"fondo",width:4,height:3,linkWithCollision:!1,visible:!0,tilesetName:"media/fondo_arcoiris.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,2,3,4],[5,6,7,8],[9,10,11,12]]}]},LevelRespuestaResources=[new ig.Image("media/fondo_arcoiris.jpg")]}),ig.baked=!0,ig.module("game.levels.settings").requires("impact.image").defines(function(){LevelSettings={name:"LevelSettings",entities:[],layer:[{name:"background",width:4,height:3,linkWithCollision:!1,visible:1,tilesetName:"media/fondo_settings.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,2,3,4],[5,6,7,8],[9,10,11,12]]}]},LevelSettingsResources=[new ig.Image("media/fondo_settings.jpg")]}),ig.baked=!0,ig.module("game.levels.juego").requires("impact.image").defines(function(){LevelJuego={name:"LevelJuego",entities:[],layer:[]}}),ig.baked=!0,ig.module("game.levels.creditos").requires("impact.image").defines(function(){LevelCreditos={name:"LevelCreditos",entities:[],layer:[{name:"fondo",width:4,height:3,linkWithCollision:!1,visible:!0,tilesetName:"media/fondo_settings.jpg",repeat:!1,preRender:!1,distance:"1",tilesize:256,foreground:!1,data:[[1,2,3,4],[5,6,7,8],[9,10,11,12]]}]},LevelCreditosResources=[new ig.Image("media/fondo_settings.jpg")]}),ig.baked=!0,ig.module("plugins.check-touch-button").requires("plugins.touch-button").defines(function(){"use strict";ig.CheckTouchButton=ig.TouchButton.extend({tileChecked:0,tileNonChecked:1,checked:0,related_buttons:[],init:function(a,b,c,d,e,f,g,h){this.tileChecked=f,this.tileNonChecked=g,this.checked=h,this.parent(a,b,c,d,e,this.checked?f:g)},checkEnd:function(a){var b=this.parent(a);return b&&(this.related_buttons.length>0?(this.related_buttons.forEach(function(a){a.tile=a.tileNonChecked,a.checked=0}),this.checked=1,this.tile=this.tileChecked):(this.checked=!this.checked,this.tile=this.checked?this.tileChecked:this.tileNonChecked)),b}})}),function(){function a(a,b){if(!b||"function"==typeof b)return a;for(var c in b)a[c]=b[c];return a}function b(a,b,c){var d,e=0,f=a.length,g=void 0===f||"[object Array]"!==Object.prototype.toString.apply(a)||"function"==typeof a;if(c)if(g){for(d in a)if(b.apply(a[d],c)===!1)break}else for(;f>e&&b.apply(a[e++],c)!==!1;);else if(g){for(d in a)if(b.call(a[d],d,a[d])===!1)break}else for(;f>e&&b.call(a[e],e,a[e++])!==!1;);return a}function c(a){return"string"==typeof a?a.replace(/[&<>"'\/]/g,function(a){return I[a]}):a}function d(a){var b=function(a){if(window.XMLHttpRequest)return a(null,new XMLHttpRequest);if(window.ActiveXObject)try{return a(null,new ActiveXObject("Msxml2.XMLHTTP"))}catch(b){return a(null,new ActiveXObject("Microsoft.XMLHTTP"))}return a(new Error)},c=function(a){if("string"==typeof a)return a;var b=[];for(var c in a)a.hasOwnProperty(c)&&b.push(encodeURIComponent(c)+"="+encodeURIComponent(a[c]));return b.join("&")},d=function(a){a=a.replace(/\r\n/g,"\n");for(var b="",c=0;c<a.length;c++){var d=a.charCodeAt(c);128>d?b+=String.fromCharCode(d):d>127&&2048>d?(b+=String.fromCharCode(d>>6|192),b+=String.fromCharCode(63&d|128)):(b+=String.fromCharCode(d>>12|224),b+=String.fromCharCode(d>>6&63|128),b+=String.fromCharCode(63&d|128))}return b},e=function(a){var b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a=d(a);var c,e,f,g,h,i,j,k="",l=0;do c=a.charCodeAt(l++),e=a.charCodeAt(l++),f=a.charCodeAt(l++),g=c>>2,h=(3&c)<<4|e>>4,i=(15&e)<<2|f>>6,j=63&f,isNaN(e)?i=j=64:isNaN(f)&&(j=64),k+=b.charAt(g)+b.charAt(h)+b.charAt(i)+b.charAt(j),c=e=f="",g=h=i=j="";while(l<a.length);return k},f=function(){for(var a=arguments[0],b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)c.hasOwnProperty(d)&&(a[d]=c[d])}return a},g=function(a,d,e,h){"function"==typeof e&&(h=e,e={}),e.cache=e.cache||!1,e.data=e.data||{},e.headers=e.headers||{},e.jsonp=e.jsonp||!1,e.async=void 0===e.async?!0:e.async;var i,j=f({accept:"*/*","content-type":"application/x-www-form-urlencoded;charset=UTF-8"},g.headers,e.headers);if(i="application/json"===j["content-type"]?JSON.stringify(e.data):c(e.data),"GET"===a){var k=[];if(i&&(k.push(i),i=null),e.cache||k.push("_="+(new Date).getTime()),e.jsonp&&(k.push("callback="+e.jsonp),k.push("jsonp="+e.jsonp)),k=k.join("&"),k.length>1&&(d+=d.indexOf("?")>-1?"&"+k:"?"+k),e.jsonp){var l=document.getElementsByTagName("head")[0],m=document.createElement("script");return m.type="text/javascript",m.src=d,void l.appendChild(m)}}b(function(b,c){if(b)return h(b);c.open(a,d,e.async);for(var f in j)j.hasOwnProperty(f)&&c.setRequestHeader(f,j[f]);c.onreadystatechange=function(){if(4===c.readyState){var a=c.responseText||"";if(!h)return;h(c.status,{text:function(){return a},json:function(){return JSON.parse(a)}})}},c.send(i)})},h={authBasic:function(a,b){g.headers.Authorization="Basic "+e(a+":"+b)},connect:function(a,b,c){return g("CONNECT",a,b,c)},del:function(a,b,c){return g("DELETE",a,b,c)},get:function(a,b,c){return g("GET",a,b,c)},head:function(a,b,c){return g("HEAD",a,b,c)},headers:function(a){g.headers=a||{}},isAllowed:function(a,b,c){this.options(a,function(a,d){c(-1!==d.text().indexOf(b))})},options:function(a,b,c){return g("OPTIONS",a,b,c)},patch:function(a,b,c){return g("PATCH",a,b,c)},post:function(a,b,c){return g("POST",a,b,c)},put:function(a,b,c){return g("PUT",a,b,c)},trace:function(a,b,c){return g("TRACE",a,b,c)}},i=a.type?a.type.toLowerCase():"get";h[i](a.url,a,function(b,c){200===b?a.success(c.json(),b,null):a.error(c.text(),b,null)})}function e(a,b){"function"==typeof a&&(b=a,a={}),a=a||{},L.extend(H,a),delete H.fixLng,"string"==typeof H.ns&&(H.ns={namespaces:[H.ns],defaultNs:H.ns}),"string"==typeof H.fallbackNS&&(H.fallbackNS=[H.fallbackNS]),("string"==typeof H.fallbackLng||"boolean"==typeof H.fallbackLng)&&(H.fallbackLng=[H.fallbackLng]),H.interpolationPrefixEscaped=L.regexEscape(H.interpolationPrefix),H.interpolationSuffixEscaped=L.regexEscape(H.interpolationSuffix),H.lng||(H.lng=L.detectLanguage()),H.lng?H.useCookie&&L.cookie.create(H.cookieName,H.lng,H.cookieExpirationTime,H.cookieDomain):(H.lng=H.fallbackLng[0],H.useCookie&&L.cookie.remove(H.cookieName)),F=L.toLanguages(H.lng),z=F[0],L.log("currentLng set to: "+z);var c=t;a.fixLng&&(c=function(a,b){return b=b||{},b.lng=b.lng||c.lng,t(a,b)},c.lng=z),N.setCurrentLng(z),B&&H.setJqueryExt&&n();var d;if(B&&B.Deferred&&(d=B.Deferred()),!H.resStore){var e=L.toLanguages(H.lng);"string"==typeof H.preload&&(H.preload=[H.preload]);for(var f=0,g=H.preload.length;g>f;f++)for(var h=L.toLanguages(H.preload[f]),i=0,j=h.length;j>i;i++)e.indexOf(h[i])<0&&e.push(h[i]);return C.sync.load(e,H,function(a,e){D=e,G=!0,b&&b(c),d&&d.resolve(c)}),d?d.promise():void 0}return D=H.resStore,G=!0,b&&b(c),d&&d.resolve(c),d?d.promise():void 0}function f(a,b){"string"==typeof a&&(a=[a]);for(var c=0,d=a.length;d>c;c++)H.preload.indexOf(a[c])<0&&H.preload.push(a[c]);return e(b)}function g(a,b,c){"string"!=typeof b?(c=b,b=H.ns.defaultNs):H.ns.namespaces.indexOf(b)<0&&H.ns.namespaces.push(b),D[a]=D[a]||{},D[a][b]=D[a][b]||{},L.extend(D[a][b],c)}function h(a,b){"string"!=typeof b&&(b=H.ns.defaultNs),D[a]=D[a]||{},D[a][b]={}}function i(a){H.ns.defaultNs=a}function j(a,b){k([a],b)}function k(a,b){var c={dynamicLoad:H.dynamicLoad,resGetPath:H.resGetPath,getAsync:H.getAsync,customLoad:H.customLoad,ns:{namespaces:a,defaultNs:""}},d=L.toLanguages(H.lng);"string"==typeof H.preload&&(H.preload=[H.preload]);for(var e=0,f=H.preload.length;f>e;e++)for(var g=L.toLanguages(H.preload[e]),h=0,i=g.length;i>h;h++)d.indexOf(g[h])<0&&d.push(g[h]);for(var j=[],k=0,l=d.length;l>k;k++){var m=!1,n=D[d[k]];if(n)for(var o=0,p=a.length;p>o;o++)n[a[o]]||(m=!0);else m=!0;m&&j.push(d[k])}j.length?C.sync._fetch(j,c,function(c,d){var e=a.length*j.length;L.each(a,function(a,c){H.ns.namespaces.indexOf(c)<0&&H.ns.namespaces.push(c),L.each(j,function(a,f){D[f]=D[f]||{},D[f][c]=d[f][c],e--,0===e&&b&&(H.useLocalStorage&&C.sync._storeLocal(D),b())})})}):b&&b()}function l(a,b,c){return"function"==typeof b?(c=b,b={}):b||(b={}),b.lng=a,e(b,c)}function m(){return z}function n(){function a(a,b,c){if(0!==b.length){var d="text";if(0===b.indexOf("[")){var e=b.split("]");b=e[1],d=e[0].substr(1,e[0].length-1)}b.indexOf(";")===b.length-1&&(b=b.substr(0,b.length-2));var f;if("html"===d)f=H.defaultValueFromContent?B.extend({defaultValue:a.html()},c):c,a.html(B.t(b,f));else if("text"===d)f=H.defaultValueFromContent?B.extend({defaultValue:a.text()},c):c,a.text(B.t(b,f));else if("prepend"===d)f=H.defaultValueFromContent?B.extend({defaultValue:a.html()},c):c,a.prepend(B.t(b,f));else if("append"===d)f=H.defaultValueFromContent?B.extend({defaultValue:a.html()},c):c,a.append(B.t(b,f));else if(0===d.indexOf("data-")){var g=d.substr("data-".length);f=H.defaultValueFromContent?B.extend({defaultValue:a.data(g)},c):c;var h=B.t(b,f);a.data(g,h),a.attr(d,h)}else f=H.defaultValueFromContent?B.extend({defaultValue:a.attr(d)},c):c,a.attr(d,B.t(b,f))}}function b(b,c){var d=b.attr(H.selectorAttr);if(d||"undefined"==typeof d||d===!1||(d=b.text()||b.val()),d){var e=b,f=b.data("i18n-target");if(f&&(e=b.find(f)||b),c||H.useDataAttrOptions!==!0||(c=b.data("i18n-options")),c=c||{},d.indexOf(";")>=0){var g=d.split(";");B.each(g,function(b,d){""!==d&&a(e,d,c)})}else a(e,d,c);H.useDataAttrOptions===!0&&b.data("i18n-options",c)}}B.t=B.t||t,B.fn.i18n=function(a){return this.each(function(){b(B(this),a);var c=B(this).find("["+H.selectorAttr+"]");c.each(function(){b(B(this),a)})})}}function o(a,b,c,d){if(!a)return a;if(d=d||b,a.indexOf(d.interpolationPrefix||H.interpolationPrefix)<0)return a;var e=d.interpolationPrefix?L.regexEscape(d.interpolationPrefix):H.interpolationPrefixEscaped,f=d.interpolationSuffix?L.regexEscape(d.interpolationSuffix):H.interpolationSuffixEscaped,g="HTML"+f;return L.each(b,function(b,h){var i=c?c+H.keyseparator+b:b;"object"==typeof h&&null!==h?a=o(a,h,i,d):d.escapeInterpolation||H.escapeInterpolation?(a=a.replace(new RegExp([e,i,g].join(""),"g"),h),a=a.replace(new RegExp([e,i,f].join(""),"g"),L.escape(h))):a=a.replace(new RegExp([e,i,f].join(""),"g"),h)}),a}function p(a,b){var c=",",d="{",e="}",f=L.extend({},b);for(delete f.postProcess;-1!=a.indexOf(H.reusePrefix)&&(E++,!(E>H.maxRecursion));){var g=a.lastIndexOf(H.reusePrefix),h=a.indexOf(H.reuseSuffix,g)+H.reuseSuffix.length,i=a.substring(g,h),j=i.replace(H.reusePrefix,"").replace(H.reuseSuffix,"");if(-1!=j.indexOf(c)){var k=j.indexOf(c);if(-1!=j.indexOf(d,k)&&-1!=j.indexOf(e,k)){var l=j.indexOf(d,k),m=j.indexOf(e,l)+e.length;try{f=L.extend(f,JSON.parse(j.substring(l,m))),j=j.substring(0,k)}catch(n){}}}var o=w(j,f);a=a.replace(i,o)}return a}function q(a){return a.context&&("string"==typeof a.context||"number"==typeof a.context)}function r(a){return void 0!==a.count&&"string"!=typeof a.count&&1!==a.count}function s(a,b){b=b||{};var c=u(a,b),d=x(a,b);return void 0!==d||d===c}function t(a,b){return b=b||{},G?(E=0,w.apply(null,arguments)):(L.log("i18next not finished initialization. you might have called t function before loading resources finished."),b.defaultValue||"")}function u(a,b){return void 0!==b.defaultValue?b.defaultValue:a}function v(){for(var a=[],b=1;b<arguments.length;b++)a.push(arguments[b]);return{postProcess:"sprintf",sprintf:a}}function w(a,b){if(b&&"object"!=typeof b?"sprintf"===H.shortcutFunction?b=v.apply(null,arguments):"defaultValue"===H.shortcutFunction&&(b={defaultValue:b}):b=b||{},void 0===a||null===a)return"";"string"==typeof a&&(a=[a]);var c=a[0];if(a.length>1)for(var d=0;d<a.length&&(c=a[d],!s(c,b));d++);var e,f=u(c,b),g=x(c,b),h=b.lng?L.toLanguages(b.lng):F,i=b.ns||H.ns.defaultNs;c.indexOf(H.nsseparator)>-1&&(e=c.split(H.nsseparator),i=e[0],c=e[1]),void 0===g&&H.sendMissing&&(b.lng?M.postMissing(h[0],i,c,f,h):M.postMissing(H.lng,i,c,f,h));var j=b.postProcess||H.postProcess;void 0!==g&&j&&O[j]&&(g=O[j](g,c,b));var k=f;if(f.indexOf(H.nsseparator)>-1&&(e=f.split(H.nsseparator),k=e[1]),k===c&&H.parseMissingKey&&(f=H.parseMissingKey(f)),void 0===g&&(f=o(f,b),f=p(f,b),j&&O[j])){var l=u(c,b);g=O[j](l,c,b)}return void 0!==g?g:f}function x(a,b){b=b||{};var c,d,e=u(a,b),f=F;if(!D)return e;if("cimode"===f[0].toLowerCase())return e;if(b.lng&&(f=L.toLanguages(b.lng),!D[f[0]])){var g=H.getAsync;H.getAsync=!1,C.sync.load(f,H,function(a,b){L.extend(D,b),H.getAsync=g})}var h=b.ns||H.ns.defaultNs;if(a.indexOf(H.nsseparator)>-1){var i=a.split(H.nsseparator);h=i[0],a=i[1]}if(q(b)){c=L.extend({},b),delete c.context,c.defaultValue=H.contextNotFound;var j=h+H.nsseparator+a+"_"+b.context;if(d=t(j,c),d!=H.contextNotFound)return o(d,{context:b.context})}if(r(b)){c=L.extend({},b),delete c.count,c.defaultValue=H.pluralNotFound;var k=h+H.nsseparator+a+H.pluralSuffix,l=N.get(f[0],b.count);if(l>=0?k=k+"_"+l:1===l&&(k=h+H.nsseparator+a),d=t(k,c),d!=H.pluralNotFound)return o(d,{count:b.count,interpolationPrefix:b.interpolationPrefix,interpolationSuffix:b.interpolationSuffix})}for(var m,n=a.split(H.keyseparator),s=0,v=f.length;v>s&&void 0===m;s++){for(var y=f[s],z=0,A=D[y]&&D[y][h];n[z];)A=A&&A[n[z]],z++;if(void 0!==A){var B=Object.prototype.toString.apply(A);if("string"==typeof A)A=o(A,b),A=p(A,b);else if("[object Array]"!==B||H.returnObjectTrees||b.returnObjectTrees){if(null===A&&H.fallbackOnNull===!0)A=void 0;else if(null!==A)if(H.returnObjectTrees||b.returnObjectTrees){if("[object Number]"!==B&&"[object Function]"!==B&&"[object RegExp]"!==B){var E="[object Array]"===B?[]:{};L.each(A,function(c){E[c]=w(h+H.nsseparator+a+H.keyseparator+c,b)}),A=E}}else H.objectTreeKeyHandler&&"function"==typeof H.objectTreeKeyHandler?A=H.objectTreeKeyHandler(a,A,y,h,b):(A="key '"+h+":"+a+" ("+y+")' returned an object instead of string.",L.log(A))}else A=A.join("\n"),A=o(A,b),A=p(A,b);"string"==typeof A&&""===A.trim()&&H.fallbackOnEmpty===!0&&(A=void 0),m=A}}if(void 0===m&&!b.isFallbackLookup&&(H.fallbackToDefaultNS===!0||H.fallbackNS&&H.fallbackNS.length>0))if(b.isFallbackLookup=!0,H.fallbackNS.length){for(var G=0,I=H.fallbackNS.length;I>G;G++)if(m=x(H.fallbackNS[G]+H.nsseparator+a,b)){var J=m.indexOf(H.nsseparator)>-1?m.split(H.nsseparator)[1]:m,K=e.indexOf(H.nsseparator)>-1?e.split(H.nsseparator)[1]:e;if(J!==K)break}}else m=x(a,b);return m}function y(){var a,b=[];if("undefined"!=typeof window&&(!function(){for(var a=window.location.search.substring(1),c=a.split("&"),d=0;d<c.length;d++){var e=c[d].indexOf("=");if(e>0){var f=c[d].substring(0,e),g=c[d].substring(e+1);b[f]=g}}}(),b[H.detectLngQS]&&(a=b[H.detectLngQS])),!a&&"undefined"!=typeof document&&H.useCookie){var c=L.cookie.read(H.cookieName);c&&(a=c)}return a||"undefined"==typeof navigator||(a=navigator.language?navigator.language:navigator.userLanguage),a}Array.prototype.indexOf||(Array.prototype.indexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=0;if(arguments.length>0&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&1/0!=d&&d!=-1/0&&(d=(d>0||-1)*Math.floor(Math.abs(d)))),d>=c)return-1;for(var e=d>=0?d:Math.max(c-Math.abs(d),0);c>e;e++)if(e in b&&b[e]===a)return e;return-1}),Array.prototype.lastIndexOf||(Array.prototype.lastIndexOf=function(a){"use strict";if(null==this)throw new TypeError;var b=Object(this),c=b.length>>>0;if(0===c)return-1;var d=c;arguments.length>1&&(d=Number(arguments[1]),d!=d?d=0:0!=d&&d!=1/0&&d!=-(1/0)&&(d=(d>0||-1)*Math.floor(Math.abs(d))));for(var e=d>=0?Math.min(d,c-1):c-Math.abs(d);e>=0;e--)if(e in b&&b[e]===a)return e;return-1}),"function"!=typeof String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")});var z,A=this,B=A.jQuery||A.Zepto,C={},D={},E=0,F=[],G=!1;"undefined"!=typeof module&&module.exports?module.exports=C:(B&&(B.i18n=B.i18n||C),A.i18n=A.i18n||C);var H={lng:void 0,load:"all",preload:[],lowerCaseLng:!1,returnObjectTrees:!1,fallbackLng:["dev"],fallbackNS:[],detectLngQS:"setLng",ns:"translation",fallbackOnNull:!0,fallbackOnEmpty:!1,fallbackToDefaultNS:!1,nsseparator:":",keyseparator:".",selectorAttr:"data-i18n",debug:!1,resGetPath:"locales/__lng__/__ns__.json",resPostPath:"locales/add/__lng__/__ns__",getAsync:!0,postAsync:!0,resStore:void 0,useLocalStorage:!1,localStorageExpirationTime:6048e5,dynamicLoad:!1,sendMissing:!1,sendMissingTo:"fallback",sendType:"POST",interpolationPrefix:"__",interpolationSuffix:"__",reusePrefix:"$t(",reuseSuffix:")",pluralSuffix:"_plural",pluralNotFound:["plural_not_found",Math.random()].join(""),contextNotFound:["context_not_found",Math.random()].join(""),escapeInterpolation:!1,setJqueryExt:!0,defaultValueFromContent:!0,useDataAttrOptions:!1,cookieExpirationTime:void 0,useCookie:!0,cookieName:"i18next",cookieDomain:void 0,objectTreeKeyHandler:void 0,postProcess:void 0,parseMissingKey:void 0,shortcutFunction:"sprintf"},I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},J={create:function(a,b,c,d){var e;if(c){var f=new Date;f.setTime(f.getTime()+60*c*1e3),e="; expires="+f.toGMTString()}else e="";d=d?"domain="+d+";":"",document.cookie=a+"="+b+e+";"+d+"path=/"},read:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null},remove:function(a){this.create(a,"",-1)}},K={create:function(){},read:function(){return null},remove:function(){}},L={extend:B?B.extend:a,each:B?B.each:b,ajax:B?B.ajax:"undefined"!=typeof document?d:function(){},cookie:"undefined"!=typeof document?J:K,detectLanguage:y,escape:c,log:function(a){H.debug&&"undefined"!=typeof console&&console.log(a)},toLanguages:function(a){var b=[];if("string"==typeof a&&a.indexOf("-")>-1){var c=a.split("-");a=H.lowerCaseLng?c[0].toLowerCase()+"-"+c[1].toLowerCase():c[0].toLowerCase()+"-"+c[1].toUpperCase(),"unspecific"!==H.load&&b.push(a),"current"!==H.load&&b.push(c[0])}else b.push(a);for(var d=0;d<H.fallbackLng.length;d++)-1===b.indexOf(H.fallbackLng[d])&&H.fallbackLng[d]&&b.push(H.fallbackLng[d]);return b},regexEscape:function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}};L.applyReplacement=o;var M={load:function(a,b,c){b.useLocalStorage?M._loadLocal(a,b,function(d,e){for(var f=[],g=0,h=a.length;h>g;g++)e[a[g]]||f.push(a[g]);f.length>0?M._fetch(f,b,function(a,b){L.extend(e,b),M._storeLocal(b),c(null,e)}):c(null,e)}):M._fetch(a,b,function(a,b){c(null,b)})},_loadLocal:function(a,b,c){var d={},e=(new Date).getTime();if(window.localStorage){var f=a.length;L.each(a,function(a,g){var h=window.localStorage.getItem("res_"+g);h&&(h=JSON.parse(h),h.i18nStamp&&h.i18nStamp+b.localStorageExpirationTime>e&&(d[g]=h)),f--,0===f&&c(null,d)})}},_storeLocal:function(a){if(window.localStorage)for(var b in a)a[b].i18nStamp=(new Date).getTime(),window.localStorage.setItem("res_"+b,JSON.stringify(a[b]))},_fetch:function(a,b,c){var d=b.ns,e={};if(b.dynamicLoad){var f=function(a,b){c(null,b)};if("function"==typeof b.customLoad)b.customLoad(a,d.namespaces,b,f);else{var g=o(b.resGetPath,{lng:a.join("+"),ns:d.namespaces.join("+")});L.ajax({url:g,success:function(a){L.log("loaded: "+g),f(null,a)},error:function(a,b,c){L.log("failed loading: "+g),f("failed loading resource.json error: "+c)},dataType:"json",async:b.getAsync})}}else{var h,i=d.namespaces.length*a.length;L.each(d.namespaces,function(d,f){L.each(a,function(a,d){var g=function(a,b){a&&(h=h||[],h.push(a)),e[d]=e[d]||{},e[d][f]=b,i--,0===i&&c(h,e)};"function"==typeof b.customLoad?b.customLoad(d,f,b,g):M._fetchOne(d,f,b,g)})})}},_fetchOne:function(a,b,c,d){var e=o(c.resGetPath,{lng:a,ns:b});L.ajax({url:e,success:function(a){L.log("loaded: "+e),d(null,a)},error:function(a,b,c){if(b&&200==b||a&&a.status&&200==a.status)L.log("There is a typo in: "+e);else if(b&&404==b||a&&a.status&&404==a.status)L.log("Does not exist: "+e);else{var f=b?b:a&&a.status?a.status:null;L.log(f+" when loading "+e)}d(c,{})},dataType:"json",async:c.getAsync})},postMissing:function(a,b,c,d,e){var f={};f[c]=d;var g=[];if("fallback"===H.sendMissingTo&&H.fallbackLng[0]!==!1)for(var h=0;h<H.fallbackLng.length;h++)g.push({lng:H.fallbackLng[h],url:o(H.resPostPath,{lng:H.fallbackLng[h],ns:b})});else if("current"===H.sendMissingTo||"fallback"===H.sendMissingTo&&H.fallbackLng[0]===!1)g.push({lng:a,url:o(H.resPostPath,{lng:a,ns:b})});else if("all"===H.sendMissingTo)for(var h=0,i=e.length;i>h;h++)g.push({lng:e[h],url:o(H.resPostPath,{lng:e[h],ns:b})});for(var j=0,k=g.length;k>j;j++){var l=g[j];L.ajax({url:l.url,type:H.sendType,data:f,success:function(){L.log("posted missing key '"+c+"' to: "+l.url);for(var a=c.split("."),e=0,f=D[l.lng][b];a[e];)f=f[a[e]]=e===a.length-1?d:f[a[e]]||{},e++},error:function(){L.log("failed posting missing key '"+c+"' to: "+l.url)},dataType:"json",async:H.postAsync})}}},N={rules:{ach:{name:"Acholi",numbers:[1,2],plurals:function(a){return Number(a>1)}},af:{name:"Afrikaans",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ak:{name:"Akan",numbers:[1,2],plurals:function(a){return Number(a>1)}},am:{name:"Amharic",numbers:[1,2],plurals:function(a){return Number(a>1)}},an:{name:"Aragonese",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ar:{name:"Arabic",numbers:[0,1,2,3,11,100],plurals:function(a){return Number(0===a?0:1==a?1:2==a?2:a%100>=3&&10>=a%100?3:a%100>=11?4:5)}},arn:{name:"Mapudungun",numbers:[1,2],plurals:function(a){return Number(a>1)}},ast:{name:"Asturian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ay:{name:"Aymar",numbers:[1],plurals:function(){return 0}},az:{name:"Azerbaijani",numbers:[1,2],plurals:function(a){return Number(1!=a)}},be:{name:"Belarusian",numbers:[1,2,5],plurals:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)}},bg:{name:"Bulgarian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},bn:{name:"Bengali",numbers:[1,2],plurals:function(a){return Number(1!=a)}},bo:{name:"Tibetan",numbers:[1],plurals:function(){return 0
}},br:{name:"Breton",numbers:[1,2],plurals:function(a){return Number(a>1)}},bs:{name:"Bosnian",numbers:[1,2,5],plurals:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)}},ca:{name:"Catalan",numbers:[1,2],plurals:function(a){return Number(1!=a)}},cgg:{name:"Chiga",numbers:[1],plurals:function(){return 0}},cs:{name:"Czech",numbers:[1,2,5],plurals:function(a){return Number(1==a?0:a>=2&&4>=a?1:2)}},csb:{name:"Kashubian",numbers:[1,2,5],plurals:function(a){return Number(1==a?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)}},cy:{name:"Welsh",numbers:[1,2,3,8],plurals:function(a){return Number(1==a?0:2==a?1:8!=a&&11!=a?2:3)}},da:{name:"Danish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},de:{name:"German",numbers:[1,2],plurals:function(a){return Number(1!=a)}},dz:{name:"Dzongkha",numbers:[1],plurals:function(){return 0}},el:{name:"Greek",numbers:[1,2],plurals:function(a){return Number(1!=a)}},en:{name:"English",numbers:[1,2],plurals:function(a){return Number(1!=a)}},eo:{name:"Esperanto",numbers:[1,2],plurals:function(a){return Number(1!=a)}},es:{name:"Spanish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},es_ar:{name:"Argentinean Spanish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},et:{name:"Estonian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},eu:{name:"Basque",numbers:[1,2],plurals:function(a){return Number(1!=a)}},fa:{name:"Persian",numbers:[1],plurals:function(){return 0}},fi:{name:"Finnish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},fil:{name:"Filipino",numbers:[1,2],plurals:function(a){return Number(a>1)}},fo:{name:"Faroese",numbers:[1,2],plurals:function(a){return Number(1!=a)}},fr:{name:"French",numbers:[1,2],plurals:function(a){return Number(a>1)}},fur:{name:"Friulian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},fy:{name:"Frisian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ga:{name:"Irish",numbers:[1,2,3,7,11],plurals:function(a){return Number(1==a?0:2==a?1:7>a?2:11>a?3:4)}},gd:{name:"Scottish Gaelic",numbers:[1,2,3,20],plurals:function(a){return Number(1==a||11==a?0:2==a||12==a?1:a>2&&20>a?2:3)}},gl:{name:"Galician",numbers:[1,2],plurals:function(a){return Number(1!=a)}},gu:{name:"Gujarati",numbers:[1,2],plurals:function(a){return Number(1!=a)}},gun:{name:"Gun",numbers:[1,2],plurals:function(a){return Number(a>1)}},ha:{name:"Hausa",numbers:[1,2],plurals:function(a){return Number(1!=a)}},he:{name:"Hebrew",numbers:[1,2],plurals:function(a){return Number(1!=a)}},hi:{name:"Hindi",numbers:[1,2],plurals:function(a){return Number(1!=a)}},hr:{name:"Croatian",numbers:[1,2,5],plurals:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)}},hu:{name:"Hungarian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},hy:{name:"Armenian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ia:{name:"Interlingua",numbers:[1,2],plurals:function(a){return Number(1!=a)}},id:{name:"Indonesian",numbers:[1],plurals:function(){return 0}},is:{name:"Icelandic",numbers:[1,2],plurals:function(a){return Number(a%10!=1||a%100==11)}},it:{name:"Italian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ja:{name:"Japanese",numbers:[1],plurals:function(){return 0}},jbo:{name:"Lojban",numbers:[1],plurals:function(){return 0}},jv:{name:"Javanese",numbers:[0,1],plurals:function(a){return Number(0!==a)}},ka:{name:"Georgian",numbers:[1],plurals:function(){return 0}},kk:{name:"Kazakh",numbers:[1],plurals:function(){return 0}},km:{name:"Khmer",numbers:[1],plurals:function(){return 0}},kn:{name:"Kannada",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ko:{name:"Korean",numbers:[1],plurals:function(){return 0}},ku:{name:"Kurdish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},kw:{name:"Cornish",numbers:[1,2,3,4],plurals:function(a){return Number(1==a?0:2==a?1:3==a?2:3)}},ky:{name:"Kyrgyz",numbers:[1],plurals:function(){return 0}},lb:{name:"Letzeburgesch",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ln:{name:"Lingala",numbers:[1,2],plurals:function(a){return Number(a>1)}},lo:{name:"Lao",numbers:[1],plurals:function(){return 0}},lt:{name:"Lithuanian",numbers:[1,2,10],plurals:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&(10>a%100||a%100>=20)?1:2)}},lv:{name:"Latvian",numbers:[1,2,0],plurals:function(a){return Number(a%10==1&&a%100!=11?0:0!==a?1:2)}},mai:{name:"Maithili",numbers:[1,2],plurals:function(a){return Number(1!=a)}},mfe:{name:"Mauritian Creole",numbers:[1,2],plurals:function(a){return Number(a>1)}},mg:{name:"Malagasy",numbers:[1,2],plurals:function(a){return Number(a>1)}},mi:{name:"Maori",numbers:[1,2],plurals:function(a){return Number(a>1)}},mk:{name:"Macedonian",numbers:[1,2],plurals:function(a){return Number(1==a||a%10==1?0:1)}},ml:{name:"Malayalam",numbers:[1,2],plurals:function(a){return Number(1!=a)}},mn:{name:"Mongolian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},mnk:{name:"Mandinka",numbers:[0,1,2],plurals:function(a){return Number(1==a?1:2)}},mr:{name:"Marathi",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ms:{name:"Malay",numbers:[1],plurals:function(){return 0}},mt:{name:"Maltese",numbers:[1,2,11,20],plurals:function(a){return Number(1==a?0:0===a||a%100>1&&11>a%100?1:a%100>10&&20>a%100?2:3)}},nah:{name:"Nahuatl",numbers:[1,2],plurals:function(a){return Number(1!=a)}},nap:{name:"Neapolitan",numbers:[1,2],plurals:function(a){return Number(1!=a)}},nb:{name:"Norwegian Bokmal",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ne:{name:"Nepali",numbers:[1,2],plurals:function(a){return Number(1!=a)}},nl:{name:"Dutch",numbers:[1,2],plurals:function(a){return Number(1!=a)}},nn:{name:"Norwegian Nynorsk",numbers:[1,2],plurals:function(a){return Number(1!=a)}},no:{name:"Norwegian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},nso:{name:"Northern Sotho",numbers:[1,2],plurals:function(a){return Number(1!=a)}},oc:{name:"Occitan",numbers:[1,2],plurals:function(a){return Number(a>1)}},or:{name:"Oriya",numbers:[2,1],plurals:function(a){return Number(1!=a)}},pa:{name:"Punjabi",numbers:[1,2],plurals:function(a){return Number(1!=a)}},pap:{name:"Papiamento",numbers:[1,2],plurals:function(a){return Number(1!=a)}},pl:{name:"Polish",numbers:[1,2,5],plurals:function(a){return Number(1==a?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)}},pms:{name:"Piemontese",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ps:{name:"Pashto",numbers:[1,2],plurals:function(a){return Number(1!=a)}},pt:{name:"Portuguese",numbers:[1,2],plurals:function(a){return Number(1!=a)}},pt_br:{name:"Brazilian Portuguese",numbers:[1,2],plurals:function(a){return Number(1!=a)}},rm:{name:"Romansh",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ro:{name:"Romanian",numbers:[1,2,20],plurals:function(a){return Number(1==a?0:0===a||a%100>0&&20>a%100?1:2)}},ru:{name:"Russian",numbers:[1,2,5],plurals:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)}},sah:{name:"Yakut",numbers:[1],plurals:function(){return 0}},sco:{name:"Scots",numbers:[1,2],plurals:function(a){return Number(1!=a)}},se:{name:"Northern Sami",numbers:[1,2],plurals:function(a){return Number(1!=a)}},si:{name:"Sinhala",numbers:[1,2],plurals:function(a){return Number(1!=a)}},sk:{name:"Slovak",numbers:[1,2,5],plurals:function(a){return Number(1==a?0:a>=2&&4>=a?1:2)}},sl:{name:"Slovenian",numbers:[5,1,2,3],plurals:function(a){return Number(a%100==1?1:a%100==2?2:a%100==3||a%100==4?3:0)}},so:{name:"Somali",numbers:[1,2],plurals:function(a){return Number(1!=a)}},son:{name:"Songhay",numbers:[1,2],plurals:function(a){return Number(1!=a)}},sq:{name:"Albanian",numbers:[1,2],plurals:function(a){return Number(1!=a)}},sr:{name:"Serbian",numbers:[1,2,5],plurals:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)}},su:{name:"Sundanese",numbers:[1],plurals:function(){return 0}},sv:{name:"Swedish",numbers:[1,2],plurals:function(a){return Number(1!=a)}},sw:{name:"Swahili",numbers:[1,2],plurals:function(a){return Number(1!=a)}},ta:{name:"Tamil",numbers:[1,2],plurals:function(a){return Number(1!=a)}},te:{name:"Telugu",numbers:[1,2],plurals:function(a){return Number(1!=a)}},tg:{name:"Tajik",numbers:[1,2],plurals:function(a){return Number(a>1)}},th:{name:"Thai",numbers:[1],plurals:function(){return 0}},ti:{name:"Tigrinya",numbers:[1,2],plurals:function(a){return Number(a>1)}},tk:{name:"Turkmen",numbers:[1,2],plurals:function(a){return Number(1!=a)}},tr:{name:"Turkish",numbers:[1,2],plurals:function(a){return Number(a>1)}},tt:{name:"Tatar",numbers:[1],plurals:function(){return 0}},ug:{name:"Uyghur",numbers:[1],plurals:function(){return 0}},uk:{name:"Ukrainian",numbers:[1,2,5],plurals:function(a){return Number(a%10==1&&a%100!=11?0:a%10>=2&&4>=a%10&&(10>a%100||a%100>=20)?1:2)}},ur:{name:"Urdu",numbers:[1,2],plurals:function(a){return Number(1!=a)}},uz:{name:"Uzbek",numbers:[1,2],plurals:function(a){return Number(a>1)}},vi:{name:"Vietnamese",numbers:[1],plurals:function(){return 0}},wa:{name:"Walloon",numbers:[1,2],plurals:function(a){return Number(a>1)}},wo:{name:"Wolof",numbers:[1],plurals:function(){return 0}},yo:{name:"Yoruba",numbers:[1,2],plurals:function(a){return Number(1!=a)}},zh:{name:"Chinese",numbers:[1],plurals:function(){return 0}}},addRule:function(a,b){N.rules[a]=b},setCurrentLng:function(a){if(!N.currentRule||N.currentRule.lng!==a){var b=a.split("-");N.currentRule={lng:a,rule:N.rules[b[0]]}}},get:function(a,b){function c(b,c){var d;if(d=N.currentRule&&N.currentRule.lng===a?N.currentRule.rule:N.rules[b]){var e=d.plurals(c),f=d.numbers[e];return 2===d.numbers.length&&1===d.numbers[0]&&(2===f?f=-1:1===f&&(f=1)),f}return 1===c?"1":"-1"}var d=a.split("-");return c(d[0],b)}},O={},P=function(a,b){O[a]=b},Q=function(){function a(a){return Object.prototype.toString.call(a).slice(8,-1).toLowerCase()}function b(a,b){for(var c=[];b>0;c[--b]=a);return c.join("")}var c=function(){return c.cache.hasOwnProperty(arguments[0])||(c.cache[arguments[0]]=c.parse(arguments[0])),c.format.call(null,c.cache[arguments[0]],arguments)};return c.format=function(c,d){var e,f,g,h,i,j,k,l=1,m=c.length,n="",o=[];for(f=0;m>f;f++)if(n=a(c[f]),"string"===n)o.push(c[f]);else if("array"===n){if(h=c[f],h[2])for(e=d[l],g=0;g<h[2].length;g++){if(!e.hasOwnProperty(h[2][g]))throw Q('[sprintf] property "%s" does not exist',h[2][g]);e=e[h[2][g]]}else e=h[1]?d[h[1]]:d[l++];if(/[^s]/.test(h[8])&&"number"!=a(e))throw Q("[sprintf] expecting number but found %s",a(e));switch(h[8]){case"b":e=e.toString(2);break;case"c":e=String.fromCharCode(e);break;case"d":e=parseInt(e,10);break;case"e":e=h[7]?e.toExponential(h[7]):e.toExponential();break;case"f":e=h[7]?parseFloat(e).toFixed(h[7]):parseFloat(e);break;case"o":e=e.toString(8);break;case"s":e=(e=String(e))&&h[7]?e.substring(0,h[7]):e;break;case"u":e=Math.abs(e);break;case"x":e=e.toString(16);break;case"X":e=e.toString(16).toUpperCase()}e=/[def]/.test(h[8])&&h[3]&&e>=0?"+"+e:e,j=h[4]?"0"==h[4]?"0":h[4].charAt(1):" ",k=h[6]-String(e).length,i=h[6]?b(j,k):"",o.push(h[5]?e+i:i+e)}return o.join("")},c.cache={},c.parse=function(a){for(var b=a,c=[],d=[],e=0;b;){if(null!==(c=/^[^\x25]+/.exec(b)))d.push(c[0]);else if(null!==(c=/^\x25{2}/.exec(b)))d.push("%");else{if(null===(c=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(b)))throw"[sprintf] huh?";if(c[2]){e|=1;var f=[],g=c[2],h=[];if(null===(h=/^([a-z_][a-z_\d]*)/i.exec(g)))throw"[sprintf] huh?";for(f.push(h[1]);""!==(g=g.substring(h[0].length));)if(null!==(h=/^\.([a-z_][a-z_\d]*)/i.exec(g)))f.push(h[1]);else{if(null===(h=/^\[(\d+)\]/.exec(g)))throw"[sprintf] huh?";f.push(h[1])}c[2]=f}else e|=2;if(3===e)throw"[sprintf] mixing positional and named placeholders is not (yet) supported";d.push(c)}b=b.substring(c[0].length)}return d},c}(),R=function(a,b){return b.unshift(a),Q.apply(null,b)};P("sprintf",function(a,b,c){return c.sprintf?"[object Array]"===Object.prototype.toString.apply(c.sprintf)?R(a,c.sprintf):"object"==typeof c.sprintf?Q(a,c.sprintf):a:a}),C.init=e,C.setLng=l,C.preload=f,C.addResourceBundle=g,C.removeResourceBundle=h,C.loadNamespace=j,C.loadNamespaces=k,C.setDefaultNamespace=i,C.t=t,C.translate=t,C.exists=s,C.detectLanguage=L.detectLanguage,C.pluralExtensions=N,C.sync=M,C.functions=L,C.lng=m,C.addPostProcessor=P,C.options=H}(),ig.baked=!0,ig.module("plugins.i18n").defines(function(){i18n.languages={galician:"gl",spanish:"es",english:"en"}}),ig.baked=!0,ig.module("plugins.locales").defines(function(){ig.locales={es:{translation:{LevelRojo:{presentacion:"Hola! Yo soy el color Rojo.",frase:"Puedes encontrarme en comida tan rica...\ncomo las fresas! Mmm!",audio:"sp/Rojo.*"},LevelNaranja:{presentacion:"Pues yo me llamo Naranja.",frase:"Soy tan famoso\nque hasta una fruta lleva mi nombre.",audio:"sp/Naranja.*"},LevelAmarillo:{presentacion:"Aqu estoy!\nSoy el color Amarillo.",frase:"Fjate cmo salgo\nde los rayos del sol.",audio:"sp/Amarillo.*"},LevelGreen:{presentacion:"Yo soy el color Verde.",frase:"Estoy en la hierba y en las hojas.\nLa naturaleza es lo mo!",audio:"sp/Verde.*"},LevelAzul:{presentacion:"A m todos me llaman Azul.",frase:"Y ocupo toooodo el cielo!",audio:"sp/Azul.*"},LevelAnil:{presentacion:"Me presentar:\nSoy el color Ail.",frase:"Puedes encontrarme bailando\ncon los peces entre las olas del mar!",audio:"sp/Anil.*"},LevelVioleta:{presentacion:"A m me conocen como Violeta.",frase:"Y soy tan delicada que he cedido\nmi nombre a estas bonitas flores.",audio:"sp/Violeta.*"},LevelTodos:{amigos:"Somos grandes amigos y por eso\nnos puedes encontrar mezclados\ny en grupos!",pregunta:"Pero...\nSabes dnde puedes encontrarnos\na todos juntos?",audio:"sp/Donde.*"},LevelRespuesta:{correcto:"Eso es!\nEn el Arco Iris!",audio:"sp/Arco Iris.*"},LevelSettings:{titulo:"Configuracin",idioma:"Idioma",sonido:"Sonido",narracion:"Narracin",musica:"Msica",aceptar:"Aceptar",cancelar:"Cancelar"},Home:{titulo:"Colores!",subtitulo:"Un libro infantil interactivo",prefrencias:"Preferencias",info:"Sobre este libro",comenzar:"Empezar a leer..."},Juego:{titulo:"Ests inspirado? Dibuja con nosotros.",compartir:"Y comprtelo!"},ParentalGate:{titulo:"Oh oh!\nEsto es para mayores.",subtitulo:"Para continuar, por favor, selecciona la respuesta correcta\na esta operacin para demostrar que eres un adulto:",audio:"sp/Parental.*"},dibujar:"Dibujar",inicio:"Inicio",david:"Programacin.\nHaciendo que las\ncosas se muevan.",carlos:"Guin original\ne ilustraciones",irene:"Adaptacin guin,\ntraducciones y voces",musica:"Ally Calvine - Ukelele Fun"}},gl:{translation:{LevelRojo:{presentacion:"Ola! Eu son a cor Vermella.",frase:"Podes atoparme en comida tan rica...\ncomo os amorodos! Mmm!",audio:"gl/Rojo.*"},LevelNaranja:{presentacion:"Pois eu chmome Laranxa.",frase:"Sonche tan famosa\nque ata unha froita leva o meu nome.",audio:"gl/Naranja.*"},LevelAmarillo:{presentacion:"Velaqu estou!\nSon a cor Amarela.",frase:"Mira como saio\ndos raios do sol.",audio:"gl/Amarillo.*"},LevelGreen:{presentacion:"Eu son a cor Verde.",frase:"Estou na herba e nas follas.\nA natureza  o meu!",audio:"gl/Verde.*"},LevelAzul:{presentacion:"A min chmanme todos Azul.",frase:"E ocupo toooodo o ceo!",audio:"gl/Azul.*"},LevelAnil:{presentacion:"Voume presentar:\nSon a cor Anil.",frase:"Pdesme atopar bailando cos peixes\nentre as ondas do mar!",audio:"gl/Anil.*"},LevelVioleta:{presentacion:"A min cocenme como Violeta.",frase:"E son tan delicada que cedn\no meu nome a estas bonitas flores.",audio:"gl/Violeta.*"},LevelTodos:{amigos:"Somos moi amigos e por iso\npdesnos atopar\nmesturados e en grupos!",pregunta:"Pero...\nSabes onde nos podes\natopar a todos xuntos?",audio:"gl/Donde.*"},LevelRespuesta:{correcto:"Iso !\nNo Arco da Vella!",audio:"gl/Arco Iris.*"},LevelSettings:{titulo:"Configuracin",idioma:"Idioma",sonido:"Sonido",narracion:"Narracin",musica:"Msica",aceptar:"Aceptar",cancelar:"Cancelar"},Home:{titulo:"Cores!",subtitulo:"Un libro infantil interactivo",prefrencias:"Preferencias",info:"Sobre este libro",comenzar:"Comezar a ler..."},Juego:{titulo:"Ests inspirado? Debuxa connosco.",compartir:" E comprteo!"},ParentalGate:{titulo:"Oh oh!\nIsto  para maiores.",subtitulo:"Para continuar, por favor, selecciona a resposta correcta\na esta operacin para demostrar que es un adulto:",audio:"gl/Parental.*"},dibujar:"Debuxar",inicio:"Inicio",david:"Programacin.\nFacendo que se\nmovan as cosas.",carlos:"Guin orixinal\ne ilustracins",irene:"Adaptacin guin,\ntraducins e voces",musica:"Ally Calvine - Ukelele Fun"}},en:{translation:{LevelRojo:{presentacion:"Hello! I am the colour Red.",frase:"You can find me in food such as...\ndelicious strawberries! Om nom nom!",audio:"en/Rojo.*"},LevelNaranja:{presentacion:"Well, my name is Orange.",frase:"I am so famous\nthat even a fruit has my name.",audio:"en/Naranja.*"},LevelAmarillo:{presentacion:"Here I am!\nThe colour Yellow!",frase:"Look how I go out\nof the rays of the sun.",audio:"en/Amarillo.*"},LevelGreen:{presentacion:"I am the colour Green.",frase:"I am in the grass and the leaves.\nNature is my thing!",audio:"en/Verde.*"},LevelAzul:{presentacion:"Everybody calls me Blue.",frase:"And I cover the whoooole sky!",audio:"en/Azul.*"},LevelAnil:{presentacion:"Allow me to introduce myself:\nMy name is Indigo.",frase:"You can find me dancing with the fish\nbetween the waves of the sea!",audio:"en/Anil.*"},LevelVioleta:{presentacion:"People knows me as Violet.",frase:"And I am so delicate that I\nlend my name to these beautiful flowers.",audio:"en/Violeta.*"},LevelTodos:{amigos:"We are really good friends and that is why\nyou can find us mixed or in groups!",pregunta:"But...\nDo you know where you can\nfind us all together?",audio:"en/Donde.*"},LevelRespuesta:{correcto:"That's right!\nIn the Rainbow!",audio:"en/Arco Iris.*"},LevelSettings:{titulo:"Settings",idioma:"Language",sonido:"Sound",narracion:"Narration",musica:"Music",aceptar:"Confirm",cancelar:"Cancel"},Home:{titulo:"Colours!",subtitulo:"An interactive book for kids",prefrencias:"Settings",info:"About this book",comenzar:"Start to read..."},Juego:{titulo:"Are you inspired? Draw with us.",compartir:" And share it!"},ParentalGate:{titulo:"Ops!\nThis is for grown-ups.",subtitulo:"To continue, please prove you are an adult\nby selecting the correct answer:",audio:"en/Parental.*"},dibujar:"Sketch",inicio:"Home",david:"Programming.\nMaking the things\nmove.",carlos:"Original script\nand illustrations",irene:"Adapted script,\ntranslations\nand voice-over",musica:"Ally Calvine - Ukelele Fun"}}}}),ig.baked=!0,ig.module("plugins.settings").defines(function(){"use strict";var a=ig.Class.extend({narration:!0,music:!0,language:"es",uuid:void 0,init:function(){this.narration=localStorage.getItem("narration")?JSON.parse(localStorage.getItem("narration")):!0,this.music=localStorage.getItem("music")?JSON.parse(localStorage.getItem("music")):!0,this.language=localStorage.getItem("language")||"es",this.uuid=localStorage.getItem("uuid")||this._guid()},save:function(){localStorage.setItem("narration",this.narration),localStorage.setItem("music",this.music),localStorage.setItem("language",this.language),localStorage.setItem("uuid",this.uuid)},_guid:function(){function a(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()}()}});ig.settings=new a,ig.settings.save()}),ig.baked=!0,ig.module("plugins.whiteboard").defines(function(){"use strict";window.WhiteBoard=ig.Class.extend({paint:!1,drawingAreaX:0,drawingAreaY:0,drawingAreaWidth:0,drawingAreaHeight:0,curSize:"large",curColor:"#000000",scale:1,pos:null,init:function(a,b,c,d){this.drawingAreaX=a,this.drawingAreaY=b,this.drawingAreaWidth=c,this.drawingAreaHeight=d,this.clearCanvas(),ig.system.canvas.addEventListener("mousedown",this._press.bind(this),!1),ig.system.canvas.addEventListener("mousemove",this._drag.bind(this),!1),ig.system.canvas.addEventListener("mouseup",this._release.bind(this)),ig.system.canvas.addEventListener("mouseout",this._cancel.bind(this),!1),ig.system.canvas.addEventListener("touchstart",this._press.bind(this),!1),ig.system.canvas.addEventListener("touchmove",this._drag.bind(this),!1),ig.system.canvas.addEventListener("touchend",this._release.bind(this),!1),ig.system.canvas.addEventListener("touchcancel",this._cancel.bind(this),!1)},clearCanvas:function(){ig.system.context.clearRect(this.drawingAreaX,this.drawingAreaY,this.drawingAreaWidth,this.drawingAreaHeight)},_press:function(a){this.paint=!0,this.lastX=this._mouseX(a),this.lastY=this._mouseY(a),this._paintPoint(this._mouseX(a)-1,this._mouseY(a),this._mouseX(a),this._mouseY(a),this.curSize,this.curColor)},_drag:function(a){this.paint&&(this._paintPoint(this.lastX,this.lastY,this._mouseX(a),this._mouseY(a),this.curSize,this.curColor),this.lastX=this._mouseX(a),this.lastY=this._mouseY(a))},_release:function(){this.paint=!1},_cancel:function(){this.paint=!1},_paintPoint:function(a,b,c,d,e,f){var g;switch(e){case"small":g=2;break;case"normal":g=5;break;case"large":g=10;break;case"huge":g=20}ig.system.context.beginPath(),ig.system.context.moveTo(a,b),ig.system.context.lineTo(c,d),ig.system.context.strokeStyle=f,ig.system.context.lineCap="round",ig.system.context.lineJoin="round",ig.system.context.lineWidth=g,ig.system.context.stroke()},_mouseX:function(a){this._calculatePixels();var b=a.touches?a.touches[0]:a;return(b.clientX-this.pos.left)/this.scale},_mouseY:function(a){this._calculatePixels();var b=a.touches?a.touches[0]:a;return(b.clientY-this.pos.top)/this.scale},_calculatePixels:function(){var a=parseInt(ig.system.canvas.offsetWidth)||ig.system.realWidth;this.scale=ig.system.scale*(a/ig.system.realWidth);ig.system.canvas.getBoundingClientRect&&(this.pos=ig.system.canvas.getBoundingClientRect())}})}),ig.baked=!0,ig.module("plugins.parental").requires("impact.game","plugins.i18n","plugins.touch-button").defines(function(){ParentalGate=ig.Class.extend({image:new ig.Image("media/fondo_parental_gate.jpg"),action:null,savedData:null,question:"",init:function(){this.savedData=new Image,this.buttons=new ig.TouchButtonCollection([new ig.TouchButton("wrong",{left:150,top:453},120,120),new ig.TouchButton("wrong",{left:300,top:453},120,120),new ig.TouchButton("wrong",{left:450,top:453},120,120),new ig.TouchButton("wrong",{left:600,top:453},120,120),new ig.TouchButton("wrong",{left:750,top:453},120,120)]),this.buttons.align()},update:function(){this.action?(ig.input.pressed("ok")&&(this.toExecute=this.action),(ig.input.pressed("wrong")||ig.input.pressed("ok"))&&(ig.system.context.drawImage(this.savedData,0,0),this.action=null)):this.toExecute&&(this.toExecute(),this.toExecute=null)},draw:function(){if(this.action){this.image.draw(0,0),ig.system.context.fillStyle="#000000",ig.system.context.textAlign="center",ig.system.context.font="24pt Garamond-Bold",this.print(i18n.t("ParentalGate.titulo"),512,160,30),ig.system.context.font="19pt Garamond-Bold",this.print(i18n.t("ParentalGate.subtitulo"),512,240,30),ig.system.context.font="30pt Garamond-Bold",this.print(this.question,512,370),ig.system.context.fillStyle="#FFFFFF";var a=0;this.buttons.buttons.forEach(function(b){"ok"===b.action?ig.system.context.fillText(this.right_result,b.anchor.left+60,b.anchor.top+70):(ig.system.context.fillText(this.random_results[a],b.anchor.left+60,b.anchor.top+70),a++)}.bind(this)),this.buttons.draw()}},askPermissionFor:function(a){if(!this.action){this.action=a,this.savedData.src=ig.system.canvas.toDataURL("image/png");for(var b=Math.floor(5*Math.random()),c=0;c<this.buttons.buttons.length;c++)this.buttons.buttons[c].action=c===b?"ok":"wrong";this.generateQuestion();var d=new ig.Sound("media/"+i18n.t("ParentalGate.audio"));d.play()}},isAskingForPermission:function(){return null!==this.action},print:function(a,b,c,d){a.split("\n").forEach(function(a){ig.system.context.fillText(a,b,c),c+=d})},generateQuestion:function(){var a=Math.floor(7*Math.random()+2),b=Math.floor(7*Math.random()+2);this.right_result=a*b,this.random_results=[],this.random_results[0]=Math.min(99,5*this.right_result),this.random_results[1]=Math.min(88,2*this.right_result),this.random_results[2]=Math.min(85,3*this.right_result),this.random_results[3]=Math.min(92,4*this.right_result),this.question=a+"   x   "+b}})}),ig.baked=!0,ig.module("plugins.game_history").requires("impact.system").defines(function(){ig.System.inject({setGame:function(a){this.referrerGameClass=this.actualGameClass,this.actualGameClass=a,this.parent(a)},setGameNow:function(a){this.parent(a),ig.game.referrer=this.referrerGameClass}})}),ig.baked=!0,ig.module("plugins.impact-splash-loader").requires("impact.loader").defines(function(){ig.ImpactSplashLoader=ig.Loader.extend({endTime:0,fadeToWhiteTime:200,fadeToGameTime:800,logoWidth:341,logoHeight:77,end:function(){this.parent(),this.endTime=Date.now(),ig.system.setDelegate(this)},run:function(){var a=Date.now()-this.endTime,b=1;if(a<this.fadeToWhiteTime)this.draw(),b=a.map(0,this.fadeToWhiteTime,0,1);else{if(!(a<this.fadeToGameTime))return void ig.system.setDelegate(ig.game);ig.game.run(),b=a.map(this.fadeToWhiteTime,this.fadeToGameTime,1,0)}ig.system.context.fillStyle="rgba(255,255,255,"+b+")",ig.system.context.fillRect(0,0,ig.system.realWidth,ig.system.realHeight)},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/5;var a=ig.system.context,b=ig.system.realWidth,c=ig.system.realHeight,d=1.5,e=(b-this.logoWidth*d)/2;a.fillStyle="rgba(0,0,0,0.8)",a.fillRect(0,0,b,c),a.fillStyle="rgb(128,128,128)",a.textAlign="right",a.font="10px ArialMT",a.fillText("Supporting your dreams - http://xuaps.com",b-10,c-10),a.textAlign="left",a.save(),a.translate(e,c/2.5),a.scale(d,d),a.lineWidth="3",a.strokeStyle="rgb(255,255,255)",a.strokeRect(25,this.logoHeight+40,300,20),a.fillStyle="rgb(255,255,255)",a.fillRect(30,this.logoHeight+45,290*this._drawStatus,10),this.drawLogo(a),a.restore()},drawLogo:function(a){a.save(),a.save(),a.save(),a.beginPath(),a.moveTo(39.6,28),a.lineTo(16.2,4.6),a.bezierCurveTo(14.6,5.6,13.1,6.6,11.7,7.7),a.bezierCurveTo(4.2,13.9,-.5,23.1,0,33.4),a.bezierCurveTo(.5,42.2,3.4,49.9,6.8,56),a.bezierCurveTo(8.6,59.2,10.5,62,12.1,64.4),a.lineTo(39.6,37),a.bezierCurveTo(42.5,34.1,42.4,30.9,39.6,28),a.closePath(),a.fillStyle="rgb(102, 195, 207)",a.fill(),a.beginPath(),a.moveTo(50,37),a.bezierCurveTo(50,37,58.7,45.6,66.8,53.7),a.lineTo(66.8,33.4),a.bezierCurveTo(66.8,27,65,21.1,61.9,16.1),a.lineTo(50,28),a.bezierCurveTo(47.1,30.9,47.2,34.1,50,37),a.closePath(),a.fillStyle="rgb(216, 219, 64)",a.fill(),a.beginPath(),a.moveTo(40.3,37.7),a.lineTo(12.7,65.3),a.bezierCurveTo(15.6,69.3,17.8,71.7,17.8,71.7),a.lineTo(57.9,76.4),a.lineTo(60.6,54.5),a.lineTo(66.1,54.5),a.lineTo(49.3,37.7),a.bezierCurveTo(46.4,34.8,43.2,34.8,40.3,37.7),a.closePath(),a.fillStyle="rgb(84, 173, 180)",a.fill(),a.beginPath(),a.moveTo(49.3,27.3),a.lineTo(61.4,15.2),a.bezierCurveTo(59.6,12.5,57.4,10,54.9,7.9),a.bezierCurveTo(49.1,3,41.6,0,33.4,0),a.bezierCurveTo(27.6,0,22,1.5,17.2,4.1),a.lineTo(40.3,27.3),a.bezierCurveTo(43.2,30.1,46.4,30.1,49.3,27.3),a.closePath(),a.fillStyle="rgb(192, 191, 52)",a.fill(),a.restore(),a.save(),a.beginPath(),a.moveTo(339.9,40),a.bezierCurveTo(338.3,32.8,331.5,32.2,324.8,31.5),a.bezierCurveTo(318,30.8,311.5,30.2,311,22.6),a.bezierCurveTo(310.8,20.1,311.4,18,312.8,16.2),a.bezierCurveTo(315.1,13.2,319.3,11.4,324,11.3),a.lineTo(324.3,11.3),a.bezierCurveTo(328.6,11.3,332.4,12.7,334.7,15.2),a.bezierCurveTo(335.9,16.5,336.6,18,337,19.8),a.bezierCurveTo(337.1,20.3,337.5,20.6,338,20.5),a.bezierCurveTo(338.5,20.5,338.8,20,338.7,19.5),a.bezierCurveTo(338.7,19.5,338.7,19.5,338.7,19.5),a.bezierCurveTo(338.3,17.3,337.4,15.5,336,14),a.bezierCurveTo(333.4,11.2,329.1,9.6,324.3,9.6),a.lineTo(324,9.6),a.bezierCurveTo(318.7,9.6,314,11.7,311.4,15.1),a.bezierCurveTo(309.7,17.2,309,19.8,309.2,22.8),a.bezierCurveTo(309.9,31.8,317.7,32.6,324.7,33.3),a.bezierCurveTo(331.2,33.9,336.9,34.5,338.1,40.4),a.bezierCurveTo(338.8,43.4,338.2,46.2,336.3,48.5),a.bezierCurveTo(333.8,51.7,329.1,53.6,324.2,53.6),a.bezierCurveTo(318.1,53.6,311.2,50.3,310.5,44.1),a.bezierCurveTo(310.5,43.6,310,43.2,309.6,43.3),a.bezierCurveTo(309.1,43.3,308.7,43.8,308.8,44.2),a.bezierCurveTo(309.6,51.5,317.3,55.4,324.2,55.4),a.bezierCurveTo(329.7,55.4,334.8,53.2,337.7,49.6),a.bezierCurveTo(339.9,46.9,340.6,43.6,339.9,40),a.closePath(),a.fillStyle="rgb(255, 255, 255)",a.fill(),a.beginPath(),a.moveTo(184.7,10.1),a.bezierCurveTo(184.2,10.1,183.8,10.5,183.8,10.9),a.lineTo(183.8,37),a.bezierCurveTo(183.8,45.9,176.5,53.1,167.7,53.1),a.bezierCurveTo(158.8,53.1,151.5,45.9,151.5,37),a.lineTo(151.5,10.9),a.bezierCurveTo(151.5,10.5,151.1,10.1,150.6,10.1),a.bezierCurveTo(150.2,10.1,149.8,10.5,149.8,10.9),a.lineTo(149.8,37),a.bezierCurveTo(149.8,46.9,157.8,54.9,167.7,54.9),a.bezierCurveTo(177.5,54.9,185.5,46.9,185.5,37),a.lineTo(185.5,10.9),a.bezierCurveTo(185.5,10.5,185.1,10.1,184.7,10.1),a.closePath(),a.fill(),a.beginPath(),a.moveTo(276.2,10.4),a.lineTo(261.9,10.4),a.bezierCurveTo(261.4,10.4,261,10.8,261,11.2),a.lineTo(261,53.7),a.bezierCurveTo(261,54.2,261.4,54.6,261.9,54.6),a.bezierCurveTo(262.4,54.6,262.7,54.2,262.7,53.7),a.lineTo(262.7,38),a.lineTo(276.2,38),a.bezierCurveTo(283.8,38,290,31.8,290,24.2),a.bezierCurveTo(290,16.6,283.8,10.4,276.2,10.4),a.closePath(),a.moveTo(276.2,36.2),a.lineTo(262.7,36.2),a.lineTo(262.7,12.1),a.lineTo(276.2,12.1),a.bezierCurveTo(282.9,12.1,288.3,17.5,288.3,24.2),a.bezierCurveTo(288.3,30.8,282.9,36.2,276.2,36.2),a.closePath(),a.fill(),a.beginPath(),a.moveTo(222.4,10.9),a.bezierCurveTo(222.2,10.6,221.9,10.4,221.6,10.4),a.bezierCurveTo(221.2,10.4,220.9,10.6,220.8,10.9),a.lineTo(201.6,53.3),a.bezierCurveTo(201.4,53.8,201.6,54.3,202.1,54.5),a.bezierCurveTo(202.5,54.7,203,54.5,203.2,54.1),a.lineTo(208.8,41.8),a.lineTo(234.4,41.8),a.lineTo(239.9,54.1),a.bezierCurveTo(240.1,54.4,240.4,54.6,240.7,54.6),a.bezierCurveTo(240.8,54.6,241,54.6,241.1,54.5),a.bezierCurveTo(241.5,54.3,241.7,53.8,241.5,53.3),a.lineTo(222.4,10.9),a.closePath(),a.moveTo(209.5,40.1),a.lineTo(221.6,13.4),a.lineTo(233.6,40.1),a.lineTo(209.5,40.1),a.closePath(),a.fill(),a.beginPath(),a.moveTo(89.6,10.1),a.bezierCurveTo(89.3,9.8,88.7,9.8,88.4,10.1),a.bezierCurveTo(88.1,10.5,88.1,11,88.4,11.4),a.lineTo(107.1,30),a.bezierCurveTo(107.2,30.2,107.5,30.3,107.7,30.3),a.bezierCurveTo(107.9,30.3,108.1,30.2,108.3,30),a.bezierCurveTo(108.6,29.7,108.6,29.1,108.3,28.8),a.lineTo(89.6,10.1),a.closePath(),a.fill(),a.beginPath(),a.moveTo(114.4,34.9),a.bezierCurveTo(114.1,34.6,113.5,34.6,113.2,34.9),a.bezierCurveTo(112.8,35.3,112.8,35.8,113.2,36.1),a.lineTo(131.8,54.8),a.bezierCurveTo(132,55,132.2,55.1,132.5,55.1),a.bezierCurveTo(132.7,55.1,132.9,55,133.1,54.8),a.bezierCurveTo(133.4,54.5,133.4,53.9,133.1,53.6),a.lineTo(114.4,34.9),a.closePath(),a.fill(),a.beginPath(),a.moveTo(131.8,10.1),a.lineTo(113.2,28.8),a.bezierCurveTo(112.8,29.1,112.8,29.7,113.2,30),a.bezierCurveTo(113.3,30.2,113.6,30.3,113.8,30.3),a.bezierCurveTo(114,30.3,114.2,30.2,114.4,30),a.lineTo(133.1,11.4),a.bezierCurveTo(133.4,11,133.4,10.5,133.1,10.1),a.bezierCurveTo(132.7,9.8,132.2,9.8,131.8,10.1),a.closePath(),a.fill(),a.beginPath(),a.moveTo(107.1,34.9),a.lineTo(88.4,53.6),a.bezierCurveTo(88.1,53.9,88.1,54.5,88.4,54.8),a.bezierCurveTo(88.6,55,88.8,55.1,89,55.1),a.bezierCurveTo(89.2,55.1,89.5,55,89.6,54.8),a.lineTo(108.3,36.1),a.bezierCurveTo(108.6,35.8,108.6,35.3,108.3,34.9),a.bezierCurveTo(108,34.6,107.4,34.6,107.1,34.9),a.closePath(),a.fill(),a.restore(),a.restore(),a.restore()}})}),ig.baked=!0,ig.module("plugins.utils").requires("impact.system").defines(function(){TextUtils=ig.Class.extend({print:function(a,b,c){var d=this.align(b,this.textSize(a,c));a.split("\n").forEach(function(a){ig.system.context.fillText(a,d.x,d.y),d.y+=c})},align:function(a,b){var c={},d=ig.system.width||window.innerWidth,e=ig.system.height||window.innerHeight;return"left"in a?c.x=a.left:"right"in a&&(c.x=d-a.right-b.x),"top"in a?c.y=a.top:"bottom"in a&&(c.y=e-a.bottom-b.y),c
},textSize:function(a,b){{var c=a.split("\n");ig.system.context.measureText(c[0])}return{x:ig.system.context.measureText(c[0]).width,y:parseInt(ig.system.context.font)+b*c.length}}}),ig.utils=new TextUtils}),ig.baked=!0,ig.module("game.main").requires("impact.game","game.levels.rojo","game.levels.home","game.levels.naranja","game.levels.amarillo","game.levels.green","game.levels.azul","game.levels.anil","game.levels.violeta","game.levels.todos","game.levels.respuesta","game.levels.settings","game.levels.juego","game.levels.creditos","plugins.touch-button","plugins.check-touch-button","plugins.i18n","plugins.locales","plugins.settings","plugins.whiteboard","plugins.parental","plugins.game_history","plugins.impact-splash-loader","plugins.utils").defines(function(){HomeGame=ig.Game.extend({volume:.2,bgtune:new ig.Sound("media/background.*",!1),buttons:null,buttonSettingsImage:new ig.Image("media/preferencias_blanco.png"),buttonInfoImage:new ig.Image("media/informacion.png"),buttonStartImage:new ig.Image("media/flecha_derecha.png"),buttonPaintImage:new ig.Image("media/boton_dibujar_blanco.png"),init:function(){this.loadLevel(LevelHome);var a=ig.music;a.add(this.bgtune),a.volume=this.volume,ig.settings.music&&a.play(),this.buttons=new ig.TouchButtonCollection([new ig.TouchButton("start",{right:45,bottom:50},40,40,this.buttonStartImage,0),new ig.TouchButton("info",{left:45,bottom:50},40,40,this.buttonInfoImage,0),new ig.TouchButton("settings",{left:45,top:50},40,40,this.buttonSettingsImage,0),new ig.TouchButton("paint",{right:45,top:50},40,40,this.buttonPaintImage,0)]),this.buttons.align()},update:function(){this.parent(),ig.input.pressed("settings")?ig.system.setGame(SettingsGame):ig.input.pressed("start")?ig.system.setGame(StoryGame):ig.input.pressed("paint")?ig.system.setGame(PaintGame):ig.input.pressed("info")&&ig.system.setGame(CreditsGame)},draw:function(){this.parent(),this.buttons.draw(),ig.system.context.fillStyle="#000000",ig.system.context.textAlign="center",ig.system.context.font="30pt Garamond-Bold",ig.system.context.fillText(i18n.t("Home.titulo"),512,360-d),ig.system.context.font="19pt Garamond-Bold",ig.system.context.fillText(i18n.t("Home.subtitulo"),512,395-d),ig.system.context.fillStyle="#FFFFFF",ig.system.context.textAlign="left",ig.system.context.fillText(i18n.t("Home.prefrencias"),90,80),ig.utils.print(i18n.t("Home.info"),{left:90,bottom:35},0),ig.system.context.textAlign="right",ig.utils.print(i18n.t("Home.comenzar"),{left:930,bottom:35},0),ig.system.context.fillText(i18n.t("dibujar"),930,80)},loadLevel:function(a){this.parent(a);for(var b=0;b<this.backgroundMaps.length;b++)this.backgroundMaps[b].preRender=!0;this.screen.y=d}}),StoryGame=ig.Game.extend({buttons:null,buttonNextImage:new ig.Image("media/flecha_derecha.png"),blackButtonNextImage:new ig.Image("media/flecha_derecha_negra.png"),buttonBackImage:new ig.Image("media/flecha_izquierda.png"),whiteButtonBackImage:new ig.Image("media/flecha_izquierda_blanca.png"),buttonSettingsImage:new ig.Image("media/preferencias_negro.png"),buttonWhiteSettingsImage:new ig.Image("media/preferencias_blanco.png"),buttonRestartImage:new ig.Image("media/boton_reiniciar_negro.png"),buttonPaintSettingsImage:new ig.Image("media/boton_dibujar_negro.png"),levels:[LevelRojo,LevelNaranja,LevelAmarillo,LevelGreen,LevelAzul,LevelAnil,LevelVioleta,LevelTodos,LevelRespuesta],currentLevel:0,narration:null,init:function(){ig.system.storyGameLevel&&(this.currentLevel=ig.system.storyGameLevel,delete ig.system.storyGameLevel),this.loadLevel(this.levels[this.currentLevel]),this.play_narration(),this.buttons=new ig.TouchButtonCollection([new ig.TouchButton("right",{right:45,bottom:50},40,40,this.buttonNextImage,0),new ig.TouchButton("left",{left:45,bottom:50},40,40,this.buttonBackImage,0),new ig.TouchButton("settings",{left:45,top:50},40,40,this.buttonSettingsImage,0),new ig.TouchButton("paint",{right:45,top:50},40,40,this.buttonPaintSettingsImage,0)]),this.buttons.align()},update:function(){this.parent(),this.currentLevel!==this.levels.length-1&&ig.input.pressed("right")?(this.currentLevel++,this.loadLevel(this.levels[this.currentLevel]),this.play_narration()):0!==this.currentLevel&&ig.input.pressed("left")?(this.currentLevel--,this.loadLevel(this.levels[this.currentLevel]),this.play_narration()):0===this.currentLevel&&ig.input.pressed("left")?(this.narration&&this.narration.stop(),ig.system.setGame(HomeGame)):ig.input.pressed("settings")?(this.narration&&this.narration.stop(),ig.system.storyGameLevel=this.currentLevel,ig.system.setGame(SettingsGame)):this.currentLevel===this.levels.length-1&&ig.input.pressed("paint")?(this.narration&&this.narration.stop(),ig.system.setGame(PaintGame)):this.currentLevel===this.levels.length-1&&ig.input.pressed("right")&&(this.narration&&this.narration.stop(),ig.system.setGame(HomeGame))},draw:function(){this.parent(),this.currentLevel<this.levels.length-1?this.buttons.buttons[0].image="LevelTodos"===this.levels[this.currentLevel].name?this.blackButtonNextImage:this.buttonNextImage:(this.buttons.buttons[0].image=this.buttonRestartImage,this.buttons.buttons[3].draw()),this.buttons.buttons[0].draw(),"LevelTodos"===this.levels[this.currentLevel].name?(this.buttons.buttons[2].image=this.buttonWhiteSettingsImage,this.buttons.buttons[1].image=this.whiteButtonBackImage,this.buttons.buttons[2].draw(),this.buttons.buttons[1].draw()):(this.buttons.buttons[2].image=this.buttonSettingsImage,this.buttons.buttons[1].image=this.buttonBackImage,this.buttons.buttons[2].draw(),this.buttons.buttons[1].draw()),ig.system.context.textAlign="center",ig.system.context.font="20pt Garamond-Bold","LevelRespuesta"===this.levels[this.currentLevel].name?(ig.system.context.fillStyle="#000000",ig.utils.print(i18n.t(this.levels[this.currentLevel].name+".correcto"),{left:768,bottom:100},30)):"LevelTodos"===this.levels[this.currentLevel].name?(ig.system.context.fillStyle="#FFFFFF",ig.utils.print(i18n.t(this.levels[this.currentLevel].name+".amigos"),{left:256,top:200},30),ig.utils.print(i18n.t(this.levels[this.currentLevel].name+".pregunta"),{left:256,top:340},30)):(ig.system.context.fillStyle="#000000",ig.utils.print(i18n.t(this.levels[this.currentLevel].name+".presentacion"),{left:256,bottom:40},30),ig.system.context.fillStyle="#FFFFFF","LevelAmarillo"!==this.levels[this.currentLevel].name?ig.utils.print(i18n.t(this.levels[this.currentLevel].name+".frase"),{left:768,top:40},30):ig.utils.print(i18n.t(this.levels[this.currentLevel].name+".frase"),{left:768,bottom:40},30))},print:function(a,b,c,d){a.split("\n").forEach(function(a){ig.system.context.fillText(a,b,c),c+=d})},play_narration:function(){this.narration&&this.narration.stop(),ig.settings.narration&&(this.narration=new ig.Sound("media/"+i18n.t(this.levels[this.currentLevel].name+".audio")),this.narration.play())},loadLevel:function(a){this.parent(a),this.screen.y=d}}),PaintGame=ig.Game.extend({buttonSettingsImage:new ig.Image("media/preferencias_negro.png"),buttonTwitterImage:new ig.Image("media/twitter.png"),buttonFacebookImage:new ig.Image("media/facebook.png"),buttonRedImage:new ig.Image("media/01_boton_rojo.png"),buttonOrangeImage:new ig.Image("media/02_boton_naranja.png"),buttonYellowImage:new ig.Image("media/03_boton_amarillo.png"),buttonGreenImage:new ig.Image("media/04_boton_verde.png"),buttonBlueImage:new ig.Image("media/05_boton_azul.png"),buttonIndigoImage:new ig.Image("media/06_boton_anil.png"),buttonVioletImage:new ig.Image("media/07_boton_violeta.png"),buttonEraserImage:new ig.Image("media/08_boton_goma.png"),buttonCleanImage:new ig.Image("media/09_boton_papelera.png"),buttonRestartImage:new ig.Image("media/flecha_izquierda.png"),border:new ig.Image("media/borde.jpg"),anillas:new ig.Image("media/anillas.png"),buttons:null,whiteboard:null,clearColor:"#FFFFFF",init:function(){this.loadLevel(LevelJuego);var a=new ig.CheckTouchButton("red",{left:130,bottom:12},92,92,this.buttonRedImage,1,0,!0),b=new ig.CheckTouchButton("orange",{left:222,bottom:12},92,92,this.buttonOrangeImage,1,0,!1),c=new ig.CheckTouchButton("yellow",{left:314,bottom:12},92,92,this.buttonYellowImage,1,0,!1),d=new ig.CheckTouchButton("green",{left:406,bottom:12},92,92,this.buttonGreenImage,1,0,!1),e=new ig.CheckTouchButton("blue",{left:498,bottom:12},92,92,this.buttonBlueImage,1,0,!1),f=new ig.CheckTouchButton("indigo",{left:590,bottom:12},92,92,this.buttonIndigoImage,1,0,!1),g=new ig.CheckTouchButton("violet",{left:682,bottom:12},92,92,this.buttonVioletImage,1,0,!1),h=new ig.CheckTouchButton("eraser",{left:774,bottom:12},92,92,this.buttonEraserImage,1,0,!1);a.related_buttons=[b,c,d,e,f,g,h],b.related_buttons=[a,c,d,e,f,g,h],c.related_buttons=[a,b,d,e,f,g,h],d.related_buttons=[a,b,c,e,f,g,h],e.related_buttons=[a,b,c,d,f,g,h],f.related_buttons=[a,b,c,d,e,g,h],g.related_buttons=[a,b,c,d,e,f,h],h.related_buttons=[a,b,c,d,e,f,g],this.buttons=new ig.TouchButtonCollection([a,b,c,d,e,f,g,h,new ig.TouchButton("home",{left:45,bottom:50},40,40,this.buttonRestartImage,0),new ig.TouchButton("settings",{left:45,top:30},40,40,this.buttonSettingsImage,0),new ig.TouchButton("twitter",{right:45,top:30},40,40,this.buttonTwitterImage,0),new ig.TouchButton("facebook",{right:100,top:30},40,40,this.buttonFacebookImage,0),new ig.TouchButton("clean",{left:866,bottom:12},92,92,this.buttonCleanImage,0)]),this.buttons.align(),this.whiteboard=new WhiteBoard(70,90,915,560),this.whiteboard.curColor="#FF0000"},update:function(){var b;this.parent(),0!==this.currentLevel&&ig.input.pressed("home")&&!a.isAskingForPermission()?ig.system.setGame(HomeGame):ig.input.pressed("settings")&&!a.isAskingForPermission()?ig.system.setGame(SettingsGame):ig.input.pressed("clean")&&!a.isAskingForPermission()?this.clearColor="#FFFFFF":ig.input.pressed("twitter")?window.Ejecta&&a.askPermissionFor(function(){b=new Ejecta.Social,b.gameWidth=ig.system.realWidth,b.gameHeight=ig.system.realHeight,b.post("twitter","#colores","http://xuaps.com/products/colours/",null)}):ig.input.pressed("facebook")?window.Ejecta&&a.askPermissionFor(function(){b=new Ejecta.Social,b.gameWidth=ig.system.realWidth,b.gameHeight=ig.system.realHeight,b.post("facebook","#colores","http://xuaps.com/products/colours/",null)}):ig.input.pressed("red")?this.whiteboard.curColor="#FF0000":ig.input.pressed("orange")?this.whiteboard.curColor="#FF4719":ig.input.pressed("yellow")?this.whiteboard.curColor="#FFFF00":ig.input.pressed("green")?this.whiteboard.curColor="#009900":ig.input.pressed("blue")?this.whiteboard.curColor="#33CCFF":ig.input.pressed("indigo")?this.whiteboard.curColor="#0033CC":ig.input.pressed("violet")?this.whiteboard.curColor="#6600CC":ig.input.pressed("eraser")&&(this.whiteboard.curColor="#FFFFFF"),a.update()},draw:function(){if(this.parent(),this.anillas.draw(0,0,0,0,1024,157),this.border.draw(0,ig.system.realHeight-107,0,0,1024,107),this.buttons.buttons[0].draw(),this.buttons.buttons[1].draw(),this.buttons.buttons[2].draw(),this.buttons.buttons[3].draw(),this.buttons.buttons[4].draw(),this.buttons.buttons[5].draw(),this.buttons.buttons[6].draw(),this.buttons.buttons[7].draw(),this.buttons.buttons[8].draw(),this.buttons.buttons[9].draw(),this.buttons.buttons[12].draw(),""!==this.clearColor&&(this.clearColor=""),ig.system.context.fillStyle="#000000",ig.system.context.textAlign="left",ig.system.context.font="19pt Garamond-Bold",ig.system.context.fillText(i18n.t("Juego.titulo"),90,60),ig.system.context.textAlign="right",window.Ejecta){var b=new Ejecta.Social;b.isSupported&&(this.buttons.buttons[10].draw(),this.buttons.buttons[11].draw(),ig.system.context.fillText(i18n.t("Juego.compartir"),860,60))}a.draw()}}),SettingsGame=ig.Game.extend({buttonCheckImage:new ig.Image("media/check.png"),buttonOkImage:new ig.Image("media/flecha_izquierda_blanca.png"),buttonCancelImage:new ig.Image("media/cancelar.png"),buttons:null,init:function(){this.loadLevel(LevelSettings);var a=new ig.CheckTouchButton(i18n.languages.galician,{left:150,top:255},40,40,this.buttonCheckImage,0,1,i18n.languages.galician===ig.settings.language),b=new ig.CheckTouchButton(i18n.languages.spanish,{left:150,top:335},40,40,this.buttonCheckImage,0,1,i18n.languages.spanish===ig.settings.language),c=new ig.CheckTouchButton(i18n.languages.english,{left:150,top:405},40,40,this.buttonCheckImage,0,1,i18n.languages.english===ig.settings.language);a.related_buttons=[b,c],b.related_buttons=[c,a],c.related_buttons=[a,b],this.buttons=new ig.TouchButtonCollection([a,b,c,new ig.CheckTouchButton("narracion",{left:670,top:255},40,40,this.buttonCheckImage,0,1,ig.settings.narration),new ig.CheckTouchButton("musica",{left:670,top:335},40,40,this.buttonCheckImage,0,1,ig.settings.music),new ig.TouchButton("aceptar",{left:45,top:50},40,40,this.buttonOkImage,0)]),this.buttons.align()},update:function(){this.parent(),ig.input.pressed("aceptar")?(ig.settings.save(),ig.system.setGame(this.referrer)):ig.input.pressed("musica")?(ig.settings.music=!ig.settings.music,ig.settings.music?ig.music.play():ig.music.stop()):ig.input.pressed("narracion")?ig.settings.narration=!ig.settings.narration:ig.input.pressed(i18n.languages.galician)?(ig.settings.language=i18n.languages.galician,i18n.setLng(ig.settings.language)):ig.input.pressed(i18n.languages.spanish)?(ig.settings.language=i18n.languages.spanish,i18n.setLng(ig.settings.language)):ig.input.pressed(i18n.languages.english)&&(ig.settings.language=i18n.languages.english,i18n.setLng(ig.settings.language))},draw:function(){this.parent(),this.buttons.draw(),ig.system.context.fillStyle="#FFFFFF",ig.system.context.textAlign="center",ig.system.context.font="30pt Garamond-Bold",ig.system.context.fillText(i18n.t("LevelSettings.titulo"),512,75),ig.system.context.font="24pt Garamond-Bold",ig.system.context.fillText(i18n.t("LevelSettings.idioma"),256,185),ig.system.context.fillText(i18n.t("LevelSettings.sonido"),768,185),ig.system.context.textAlign="left",ig.system.context.fillText(i18n.t("Galego"),207,285),ig.system.context.fillText(i18n.t("Espaol"),207,365),ig.system.context.fillText(i18n.t("English"),207,435),ig.system.context.fillText(i18n.t("LevelSettings.narracion"),725,285),ig.system.context.fillText(i18n.t("LevelSettings.musica"),725,365),ig.system.context.font="19pt Garamond-Bold"}}),CreditsGame=ig.Game.extend({buttonOkImage:new ig.Image("media/flecha_izquierda_blanca.png"),buttonWWWImage:new ig.Image("media/www.png"),buttonMailImage:new ig.Image("media/mail.png"),buttonTwitterImage:new ig.Image("media/twitter_blanco.png"),buttonMusicaImage:new ig.Image("media/musica.png"),init:function(){this.loadLevel(LevelCreditos),this.buttons=new ig.TouchButtonCollection([new ig.TouchButton("aceptar",{left:45,top:50},40,40,this.buttonOkImage,0),new ig.TouchButton("www_david",{left:100,top:370},40,40,this.buttonWWWImage,0),new ig.TouchButton("mail_david",{left:145,top:370},40,40,this.buttonMailImage,0),new ig.TouchButton("twitter_david",{left:190,top:370},40,40,this.buttonTwitterImage,0),new ig.TouchButton("www_carlos",{left:380,top:370},40,40,this.buttonWWWImage,0),new ig.TouchButton("mail_carlos",{left:425,top:370},40,40,this.buttonMailImage,0),new ig.TouchButton("twitter_carlos",{left:470,top:370},40,40,this.buttonTwitterImage,0),new ig.TouchButton("www_irene",{left:748,top:370},40,40,this.buttonWWWImage,0),new ig.TouchButton("mail_irene",{left:793,top:370},40,40,this.buttonMailImage,0),new ig.TouchButton("www_musica",{left:100,top:470},40,40,this.buttonMusicaImage,0)]),this.buttons.align()},update:function(){this.parent(),ig.input.pressed("aceptar")?ig.system.setGame(HomeGame):ig.input.pressed("www_musica")?a.askPermissionFor(function(){this.openUrl("http://www.jamendo.com/es/track/1128590/ally-calvine-ukulele-fun")}.bind(this)):ig.input.pressed("www_david")?a.askPermissionFor(function(){this.openUrl("http://www.xuaps.com")}.bind(this)):ig.input.pressed("mail_david")?a.askPermissionFor(function(){this.openUrl("mailto:tales@xuaps.com")}.bind(this)):ig.input.pressed("twitter_david")?a.askPermissionFor(function(){this.openUrl("http://twitter.com/xuapslabs")}.bind(this)):ig.input.pressed("www_carlos")?a.askPermissionFor(function(){this.openUrl("http://comendador.es/ilustracion")}.bind(this)):ig.input.pressed("mail_carlos")?a.askPermissionFor(function(){this.openUrl("mailto:carlos@comendador.es")}.bind(this)):ig.input.pressed("twitter_carlos")?a.askPermissionFor(function(){this.openUrl("https://twitter.com/ccomendador")}.bind(this)):ig.input.pressed("www_irene")?a.askPermissionFor(function(){this.openUrl("http://www.entrelinguas.eu")}.bind(this)):ig.input.pressed("mail_irene")&&a.askPermissionFor(function(){this.openUrl("mailto:irene@entrelinguas.eu")}.bind(this)),a.update()},draw:function(){this.parent(),this.buttons.draw(),ig.system.context.fillStyle="#FFFFFF",ig.system.context.textAlign="center",ig.system.context.font="30pt Garamond-Bold",ig.system.context.fillText(i18n.t("Home.info"),512,75),ig.system.context.font="24pt Garamond-Bold",ig.system.context.textAlign="left",ig.system.context.fillText("David Vlchez",100,185),ig.system.context.fillText("Carlos Comendador",380,185),ig.system.context.fillText("Irene Doval",748,185),ig.system.context.font="19pt Garamond-Bold",this.print(i18n.t("david"),100,285,30),this.print(i18n.t("carlos"),380,285,30),this.print(i18n.t("irene"),748,285,30),this.print(i18n.t("musica"),145,500,30),a.draw()},print:function(a,b,c,d){a.split("\n").forEach(function(a){ig.system.context.fillText(a,b,c),c+=d})},openUrl:function(a){window.ejecta?ejecta.openURL(a):window.location.href=a}});var a,b=1024,c=window.innerWidth/b,d=(768-window.innerHeight/(window.innerWidth/b))/2;i18n.init({resStore:ig.locales,lng:ig.settings.language},function(){ig.Sound.use=[ig.Sound.FORMAT.CAF,ig.Sound.FORMAT.OGG,ig.Sound.FORMAT.MP3];var d=ig.$("#fastCanvas"),e=window.innerHeight/c;d.style.width=window.innerWidth+"px",d.style.height=window.innerHeight+"px",ig.main("#fastCanvas",HomeGame,60,b,e,1,ig.ImpactSplashLoader),a=new ParentalGate})});